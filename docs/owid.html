<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 25 Our World in Data | Data Analysis for Researchers AY2022</title>
<meta name="author" content="Hiroshi Suzuki">
<meta name="description" content="25.1 The package owidR  We study the R package owidR for importing data from Our World in Data.   25.2 References The package official site contains other links. When you quote the package, use...">
<meta name="generator" content="bookdown 0.31 with bs4_book()">
<meta property="og:title" content="Chapter 25 Our World in Data | Data Analysis for Researchers AY2022">
<meta property="og:type" content="book">
<meta property="og:url" content="https://icu-hsuzuki.github.io/da4r2022/owid.html">
<meta property="og:description" content="25.1 The package owidR  We study the R package owidR for importing data from Our World in Data.   25.2 References The package official site contains other links. When you quote the package, use...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 25 Our World in Data | Data Analysis for Researchers AY2022">
<meta name="twitter:description" content="25.1 The package owidR  We study the R package owidR for importing data from Our World in Data.   25.2 References The package official site contains other links. When you quote the package, use...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.2/transition.js"></script><script src="libs/bs3compat-0.4.2/tabs.js"></script><script src="libs/bs3compat-0.4.2/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Data Analysis for Researchers AY2022</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled"><li><a class="" href="index.html"><span class="header-section-number">Chapter 25</span> Our World in Data</a></li></ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://icu-hsuzuki.github.io/da4r2022/">View book source <i class="fab fa-gitlab"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="owid" class="section level1" number="25">
<h1>
<span class="header-section-number">25</span> Our World in Data<a class="anchor" aria-label="anchor" href="#owid"><i class="fas fa-link"></i></a>
</h1>
<div id="the-package-owidr" class="section level2" number="25.1">
<h2>
<span class="header-section-number">25.1</span> The package <code>owidR</code><a class="anchor" aria-label="anchor" href="#the-package-owidr"><i class="fas fa-link"></i></a>
</h2>
<blockquote>
<p>We study the R package <code>owidR</code> for importing data from Our World in Data.</p>
</blockquote>
</div>
<div id="references-5" class="section level2" number="25.2">
<h2>
<span class="header-section-number">25.2</span> References<a class="anchor" aria-label="anchor" href="#references-5"><i class="fas fa-link"></i></a>
</h2>
<p>The package official site contains other links. When you quote the package, use the link to the official site.</p>
<ul>
<li>Package Official Site: <a href="https://CRAN.R-project.org/package=owidR" class="uri">https://CRAN.R-project.org/package=owidR</a>
<ul>
<li>ReadMe: <a href="https://cran.r-project.org/web/packages/owidR/readme/README.html" class="uri">https://cran.r-project.org/web/packages/owidR/readme/README.html</a>
</li>
<li>Manual: <a href="https://cran.r-project.org/web/packages/owidR/owidR.pdf" class="uri">https://cran.r-project.org/web/packages/owidR/owidR.pdf</a>
</li>
<li>Vignette: <a href="https://cran.r-project.org/web/packages/owidR/vignettes/example-analysis.html">Create and Analyse a Dataset</a>
</li>
</ul>
</li>
<li>
<a href="https://rdrr.io/cran/owidR/">owidR: Import Data from Our World in Data</a>
<ul>
<li>Man page and source codes</li>
</ul>
</li>
</ul>
<p>In general, README gives a short introduction to the package, a Manual, the comprehensive descriptions of each function, and a Vignette, a practical introduction containing examples and applications.</p>
</div>
<div id="introduction" class="section level2" number="25.3">
<h2>
<span class="header-section-number">25.3</span> Introduction<a class="anchor" aria-label="anchor" href="#introduction"><i class="fas fa-link"></i></a>
</h2>
<blockquote>
<p>This package acts as an interface to <a href="https://ourworldindata.org">Our World in Data</a> datasets, allowing for an easy way to search through data used in over 3,000 charts and load them into the R environment.</p>
</blockquote>
<div id="setup-2" class="section level3" number="25.3.1">
<h3>
<span class="header-section-number">25.3.1</span> Setup<a class="anchor" aria-label="anchor" href="#setup-2"><i class="fas fa-link"></i></a>
</h3>
<div id="installation" class="section level4" number="25.3.1.1">
<h4>
<span class="header-section-number">25.3.1.1</span> Installation<a class="anchor" aria-label="anchor" href="#installation"><i class="fas fa-link"></i></a>
</h4>
<p>Run the following for the first time</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"owidR"</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="load-the-package" class="section level4" number="25.3.1.2">
<h4>
<span class="header-section-number">25.3.1.2</span> Load the package<a class="anchor" aria-label="anchor" href="#load-the-package"><i class="fas fa-link"></i></a>
</h4>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/piersyork/owidR">owidR</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span> </span>
<span><span class="co">#&gt; ── Attaching packages ─────────────────── tidyverse 1.3.2 ──</span></span>
<span><span class="co">#&gt; ✔ ggplot2 3.4.0      ✔ purrr   1.0.0 </span></span>
<span><span class="co">#&gt; ✔ tibble  3.1.8      ✔ dplyr   1.0.10</span></span>
<span><span class="co">#&gt; ✔ tidyr   1.2.1      ✔ stringr 1.5.0 </span></span>
<span><span class="co">#&gt; ✔ readr   2.1.3      ✔ forcats 0.5.2 </span></span>
<span><span class="co">#&gt; ── Conflicts ────────────────────── tidyverse_conflicts() ──</span></span>
<span><span class="co">#&gt; ✖ dplyr::filter() masks stats::filter()</span></span>
<span><span class="co">#&gt; ✖ dplyr::lag()    masks stats::lag()</span></span></code></pre></div>
<p>The package automatically load a part of <code>tidyverse</code>, e.g., <code>dplyr</code>, <code>ggplot</code>, …. Since it works well with the scheme<code>tidyverse</code>, it is better to load <code>tidyverse</code> with it.</p>
<p>The creator of this package also suggests loading packages <code>plm</code> for panels of data, and <code>texreg</code> for displaying models, but let us start without them until we actually use them. For panel data, see, for example, the site](<a href="https://www.aptech.com/blog/introduction-to-the-fundamentals-of-panel-data/" class="uri">https://www.aptech.com/blog/introduction-to-the-fundamentals-of-panel-data/</a>).</p>
</div>
</div>
<div id="core-functions" class="section level3" number="25.3.2">
<h3>
<span class="header-section-number">25.3.2</span> Core functions<a class="anchor" aria-label="anchor" href="#core-functions"><i class="fas fa-link"></i></a>
</h3>
<div id="list-of-core-functions" class="section level4" number="25.3.2.1">
<h4>
<span class="header-section-number">25.3.2.1</span> List of core functions<a class="anchor" aria-label="anchor" href="#list-of-core-functions"><i class="fas fa-link"></i></a>
</h4>
<p>In this package, <code>chart</code> is close to data, and <code>chart id</code> is a data indicator.</p>
<ul>
<li>owid: Get a dataset used in an OWID chart</li>
<li>owid_covid: Get the Our World in Data covid-19 dataset</li>
<li>owid_search: Search the data sources used in OWID charts</li>
<li>owid_source: A function to get source information from an OWID dataset and display it in the R console.</li>
<li>pal_owid: Colour palettes based on the colours used by Our World in Data</li>
<li>view_chart: A function that opens the original OWID chart in your browser</li>
<li>world_map_data: Function that returns a simple feature collection of class sf. Map data is from naturalearthdata.com. Designed to be used internally.</li>
</ul>
</div>
<div id="usage" class="section level4" number="25.3.2.2">
<h4>
<span class="header-section-number">25.3.2.2</span> Usage<a class="anchor" aria-label="anchor" href="#usage"><i class="fas fa-link"></i></a>
</h4>
<div id="owid_search" class="section level5" number="25.3.2.2.1">
<h5>
<span class="header-section-number">25.3.2.2.1</span> <code>owid_search</code><a class="anchor" aria-label="anchor" href="#owid_search"><i class="fas fa-link"></i></a>
</h5>
<p>Search the data sources used in OWID charts</p>
<pre><code>owid_search(term)</code></pre>
<ul>
<li>Example</li>
</ul>
<p>Since the output is long, I cut it off to the first six rows using <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid_search.html">owid_search</a></span><span class="op">(</span><span class="st">"emissions"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;      titles                                                  </span></span>
<span><span class="co">#&gt; [1,] "Air pollutant emissions"                               </span></span>
<span><span class="co">#&gt; [2,] "Emissions of air pollutants"                           </span></span>
<span><span class="co">#&gt; [3,] "Emissions of air pollutants"                           </span></span>
<span><span class="co">#&gt; [4,] "Emissions of particulate matter"                       </span></span>
<span><span class="co">#&gt; [5,] "Global SO₂ emissions"                                  </span></span>
<span><span class="co">#&gt; [6,] "Global sulphur dioxide (SO₂) emissions by world region"</span></span>
<span><span class="co">#&gt;      chart_id                                        </span></span>
<span><span class="co">#&gt; [1,] "air-pollutant-emissions"                       </span></span>
<span><span class="co">#&gt; [2,] "emissions-of-air-pollutants"                   </span></span>
<span><span class="co">#&gt; [3,] "emissions-of-air-pollutants-oecd"              </span></span>
<span><span class="co">#&gt; [4,] "emissions-of-particulate-matter"               </span></span>
<span><span class="co">#&gt; [5,] "global-so-emissions"                           </span></span>
<span><span class="co">#&gt; [6,] "so-emissions-by-world-region-in-million-tonnes"</span></span></code></pre></div>
<p>A matrix is returned. If the list is long, it is easier to see the pairs of the titles and chart_ids by adding <code><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble()</a></code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid_search.html">owid_search</a></span><span class="op">(</span><span class="st">"emissions"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 151 × 2</span></span>
<span><span class="co">#&gt;    titles                                            chart…¹</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                                             &lt;chr&gt;  </span></span>
<span><span class="co">#&gt;  1 Air pollutant emissions                           air-po…</span></span>
<span><span class="co">#&gt;  2 Emissions of air pollutants                       emissi…</span></span>
<span><span class="co">#&gt;  3 Emissions of air pollutants                       emissi…</span></span>
<span><span class="co">#&gt;  4 Emissions of particulate matter                   emissi…</span></span>
<span><span class="co">#&gt;  5 Global SO₂ emissions                              global…</span></span>
<span><span class="co">#&gt;  6 Global sulphur dioxide (SO₂) emissions by world … so-emi…</span></span>
<span><span class="co">#&gt;  7 Sulphur dioxide (SO₂) emissions                   so2-em…</span></span>
<span><span class="co">#&gt;  8 Sulphur dioxide (SO₂) emissions                   so-emi…</span></span>
<span><span class="co">#&gt;  9 Sulphur dioxide (SO₂) emissions per capita        so-emi…</span></span>
<span><span class="co">#&gt; 10 Sulphur oxide (SO₂) emissions                     sulphu…</span></span>
<span><span class="co">#&gt; # … with 141 more rows, and abbreviated variable name</span></span>
<span><span class="co">#&gt; #   ¹​chart_id</span></span></code></pre></div>
<p>If the list is not long, you do not need to add <code><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble()</a></code>. However, note that you need to keep in mind that the title and the chart_id consists of a pair, and you need to use the chart_id to download the data using <code>owid</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid_search.html">owid_search</a></span><span class="op">(</span><span class="st">"human rights"</span><span class="op">)</span></span>
<span><span class="co">#&gt;      titles                                                                             </span></span>
<span><span class="co">#&gt; [1,] "Human rights vs. electoral democracy"                                             </span></span>
<span><span class="co">#&gt; [2,] "Countries with accredited independent national human rights institutions"         </span></span>
<span><span class="co">#&gt; [3,] "Distribution of human rights"                                                     </span></span>
<span><span class="co">#&gt; [4,] "Human rights"                                                                     </span></span>
<span><span class="co">#&gt; [5,] "Human rights vs. GDP per capita"                                                  </span></span>
<span><span class="co">#&gt; [6,] "Human rights weighted by population"                                              </span></span>
<span><span class="co">#&gt; [7,] "Number of cases of killed human rights defenders, journalists and trade unionists"</span></span>
<span><span class="co">#&gt; [8,] "Share of countries with accredited independent national human rights institutions"</span></span>
<span><span class="co">#&gt;      chart_id                                                                   </span></span>
<span><span class="co">#&gt; [1,] "human-rights-vs-electoral-democracy"                                      </span></span>
<span><span class="co">#&gt; [2,] "countries-with-independent-national-human-rights-institution"             </span></span>
<span><span class="co">#&gt; [3,] "distribution-human-rights-vdem"                                           </span></span>
<span><span class="co">#&gt; [4,] "human-rights-vdem"                                                        </span></span>
<span><span class="co">#&gt; [5,] "human-rights-vs-gdp-per-capita"                                           </span></span>
<span><span class="co">#&gt; [6,] "human-rights-popw"                                                        </span></span>
<span><span class="co">#&gt; [7,] "cases-of-killed-human-rights-defenders-journalists-trade-unionists"       </span></span>
<span><span class="co">#&gt; [8,] "share-countries-accredited-independent-national-human-rights-institutions"</span></span></code></pre></div>
</div>
<div id="owid-1" class="section level5" number="25.3.2.2.2">
<h5>
<span class="header-section-number">25.3.2.2.2</span> <code>owid</code><a class="anchor" aria-label="anchor" href="#owid-1"><i class="fas fa-link"></i></a>
</h5>
<p>Get a dataset used in an OWID chart</p>
<pre><code>owid(chart_id = NULL, rename = NULL, tidy.date = TRUE, ...)</code></pre>
<p><code>chard_id</code>: The chart_id as returned by owid_search, which is combined with ‘-’. Don’t mix up with the chart titles.</p>
<p><code>rename</code>: Rename the value column. Currently only works if their is just one value col- umn.</p>
<ul>
<li>Example</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">emissions</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid.html">owid</a></span><span class="op">(</span><span class="st">"per-capita-ghg-emissions"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">emissions</span></span>
<span><span class="co">#&gt; # A tibble: 6,149 × 4</span></span>
<span><span class="co">#&gt;    entity      code   year `Total including LUCF`</span></span>
<span><span class="co">#&gt;  * &lt;chr&gt;       &lt;chr&gt; &lt;int&gt;                  &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Afghanistan AFG    1990                  0.772</span></span>
<span><span class="co">#&gt;  2 Afghanistan AFG    1991                  0.738</span></span>
<span><span class="co">#&gt;  3 Afghanistan AFG    1992                  0.623</span></span>
<span><span class="co">#&gt;  4 Afghanistan AFG    1993                  0.576</span></span>
<span><span class="co">#&gt;  5 Afghanistan AFG    1994                  0.536</span></span>
<span><span class="co">#&gt;  6 Afghanistan AFG    1995                  0.529</span></span>
<span><span class="co">#&gt;  7 Afghanistan AFG    1996                  0.563</span></span>
<span><span class="co">#&gt;  8 Afghanistan AFG    1997                  0.598</span></span>
<span><span class="co">#&gt;  9 Afghanistan AFG    1998                  0.628</span></span>
<span><span class="co">#&gt; 10 Afghanistan AFG    1999                  0.658</span></span>
<span><span class="co">#&gt; # … with 6,139 more rows</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rights</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid.html">owid</a></span><span class="op">(</span><span class="st">"human-rights-scores"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rights</span></span>
<span><span class="co">#&gt; # A tibble: 11,273 × 4</span></span>
<span><span class="co">#&gt;    entity      code   year `Human rights protection`</span></span>
<span><span class="co">#&gt;  * &lt;chr&gt;       &lt;chr&gt; &lt;int&gt;                     &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Afghanistan AFG    1946                     0.829</span></span>
<span><span class="co">#&gt;  2 Afghanistan AFG    1947                     0.878</span></span>
<span><span class="co">#&gt;  3 Afghanistan AFG    1948                     0.935</span></span>
<span><span class="co">#&gt;  4 Afghanistan AFG    1949                     0.966</span></span>
<span><span class="co">#&gt;  5 Afghanistan AFG    1950                     1.01 </span></span>
<span><span class="co">#&gt;  6 Afghanistan AFG    1951                     1.09 </span></span>
<span><span class="co">#&gt;  7 Afghanistan AFG    1952                     1.13 </span></span>
<span><span class="co">#&gt;  8 Afghanistan AFG    1953                     1.18 </span></span>
<span><span class="co">#&gt;  9 Afghanistan AFG    1954                     1.22 </span></span>
<span><span class="co">#&gt; 10 Afghanistan AFG    1955                     1.22 </span></span>
<span><span class="co">#&gt; # … with 11,263 more rows</span></span></code></pre></div>
<p><strong>Note.</strong></p>
<ol style="list-style-type: decimal">
<li>You can use <code>rename</code> to change column names. For example,</li>
</ol>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid.html">owid</a></span><span class="op">(</span><span class="st">"per-capita-ghg-emissions"</span>, rename <span class="op">=</span> <span class="st">"ghgPcap"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6,149 × 4</span></span>
<span><span class="co">#&gt;    entity      code   year ghgPcap</span></span>
<span><span class="co">#&gt;  * &lt;chr&gt;       &lt;chr&gt; &lt;int&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Afghanistan AFG    1990   0.772</span></span>
<span><span class="co">#&gt;  2 Afghanistan AFG    1991   0.738</span></span>
<span><span class="co">#&gt;  3 Afghanistan AFG    1992   0.623</span></span>
<span><span class="co">#&gt;  4 Afghanistan AFG    1993   0.576</span></span>
<span><span class="co">#&gt;  5 Afghanistan AFG    1994   0.536</span></span>
<span><span class="co">#&gt;  6 Afghanistan AFG    1995   0.529</span></span>
<span><span class="co">#&gt;  7 Afghanistan AFG    1996   0.563</span></span>
<span><span class="co">#&gt;  8 Afghanistan AFG    1997   0.598</span></span>
<span><span class="co">#&gt;  9 Afghanistan AFG    1998   0.628</span></span>
<span><span class="co">#&gt; 10 Afghanistan AFG    1999   0.658</span></span>
<span><span class="co">#&gt; # … with 6,139 more rows</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Since until after importing the data, you never know the original column name, and how many columns are for indicators. It is natural to change column names using <code>dpyr::rename</code>. In the next example, I used <code>Total including LUCF</code>. However, ‘Total including LUCF’ and “Total including LUCF” work as well.</li>
</ol>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">emissions</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>ghgPcap <span class="op">=</span> <span class="va">`Total including LUCF`</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6,149 × 4</span></span>
<span><span class="co">#&gt;    entity      code   year ghgPcap</span></span>
<span><span class="co">#&gt;  * &lt;chr&gt;       &lt;chr&gt; &lt;int&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Afghanistan AFG    1990   0.772</span></span>
<span><span class="co">#&gt;  2 Afghanistan AFG    1991   0.738</span></span>
<span><span class="co">#&gt;  3 Afghanistan AFG    1992   0.623</span></span>
<span><span class="co">#&gt;  4 Afghanistan AFG    1993   0.576</span></span>
<span><span class="co">#&gt;  5 Afghanistan AFG    1994   0.536</span></span>
<span><span class="co">#&gt;  6 Afghanistan AFG    1995   0.529</span></span>
<span><span class="co">#&gt;  7 Afghanistan AFG    1996   0.563</span></span>
<span><span class="co">#&gt;  8 Afghanistan AFG    1997   0.598</span></span>
<span><span class="co">#&gt;  9 Afghanistan AFG    1998   0.628</span></span>
<span><span class="co">#&gt; 10 Afghanistan AFG    1999   0.658</span></span>
<span><span class="co">#&gt; # … with 6,139 more rows</span></span></code></pre></div>
<ol start="3" style="list-style-type: decimal">
<li>If there are more than one variables to rename, use vector notation as follows. Here <code>top_n(1)</code> is same as <code>slice(1)</code>, and gives the first row only.</li>
</ol>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid.html">owid</a></span><span class="op">(</span><span class="st">"electoral-democracy"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/top_n.html">top_n</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; Selecting by electdem_vdem_low_owid</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 6</span></span>
<span><span class="co">#&gt;   entity code   year `Electoral democracy` electde…¹ elect…²</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt; &lt;int&gt;                 &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 Sweden SWE    2012                 0.926     0.958   0.905</span></span>
<span><span class="co">#&gt; # … with abbreviated variable names</span></span>
<span><span class="co">#&gt; #   ¹​electdem_vdem_high_owid, ²​electdem_vdem_low_owid</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid.html">owid</a></span><span class="op">(</span><span class="st">"electoral-democracy"</span>, rename <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"electoral_democracy"</span>, <span class="st">"vdem_high"</span>, <span class="st">"vdem_low"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 31,995 × 6</span></span>
<span><span class="co">#&gt;    entity      code   year electoral_democ…¹ vdem_…² vdem_…³</span></span>
<span><span class="co">#&gt;  * &lt;chr&gt;       &lt;chr&gt; &lt;int&gt;             &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Afghanistan AFG    1789             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  2 Afghanistan AFG    1790             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  3 Afghanistan AFG    1791             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  4 Afghanistan AFG    1792             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  5 Afghanistan AFG    1793             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  6 Afghanistan AFG    1794             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  7 Afghanistan AFG    1795             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  8 Afghanistan AFG    1796             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  9 Afghanistan AFG    1797             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt; 10 Afghanistan AFG    1798             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt; # … with 31,985 more rows, and abbreviated variable names</span></span>
<span><span class="co">#&gt; #   ¹​electoral_democracy, ²​vdem_high, ³​vdem_low</span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>You can use <code><a href="https://dplyr.tidyverse.org/reference/rename.html">dplyr::rename</a></code>, and keep the record of renaming column names.</li>
</ol>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="op">(</span><span class="va">democracy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid.html">owid</a></span><span class="op">(</span><span class="st">"electoral-democracy"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 31,995 × 6</span></span>
<span><span class="co">#&gt;    entity      code   year Electoral democ…¹ elect…² elect…³</span></span>
<span><span class="co">#&gt;  * &lt;chr&gt;       &lt;chr&gt; &lt;int&gt;             &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Afghanistan AFG    1789             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  2 Afghanistan AFG    1790             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  3 Afghanistan AFG    1791             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  4 Afghanistan AFG    1792             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  5 Afghanistan AFG    1793             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  6 Afghanistan AFG    1794             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  7 Afghanistan AFG    1795             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  8 Afghanistan AFG    1796             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  9 Afghanistan AFG    1797             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt; 10 Afghanistan AFG    1798             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt; # … with 31,985 more rows, and abbreviated variable names</span></span>
<span><span class="co">#&gt; #   ¹​`Electoral democracy`, ²​electdem_vdem_high_owid,</span></span>
<span><span class="co">#&gt; #   ³​electdem_vdem_low_owid</span></span></code></pre></div>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">democracy</span> <span class="op">&lt;-</span> <span class="va">democracy</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span>`electoral_democracy` <span class="op">=</span> <span class="va">`Electoral democracy`</span>,  </span>
<span>         `vdem_high` <span class="op">=</span> <span class="va">`electdem_vdem_high_owid`</span>, </span>
<span>         `electdem_vdem_low_owid` <span class="op">=</span> <span class="va">`electdem_vdem_low_owid`</span><span class="op">)</span></span>
<span><span class="va">democracy</span></span>
<span><span class="co">#&gt; # A tibble: 31,995 × 6</span></span>
<span><span class="co">#&gt;    entity      code   year electoral_democ…¹ vdem_…² elect…³</span></span>
<span><span class="co">#&gt;  * &lt;chr&gt;       &lt;chr&gt; &lt;int&gt;             &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Afghanistan AFG    1789             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  2 Afghanistan AFG    1790             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  3 Afghanistan AFG    1791             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  4 Afghanistan AFG    1792             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  5 Afghanistan AFG    1793             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  6 Afghanistan AFG    1794             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  7 Afghanistan AFG    1795             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  8 Afghanistan AFG    1796             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  9 Afghanistan AFG    1797             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt; 10 Afghanistan AFG    1798             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt; # … with 31,985 more rows, and abbreviated variable names</span></span>
<span><span class="co">#&gt; #   ¹​electoral_democracy, ²​vdem_high,</span></span>
<span><span class="co">#&gt; #   ³​electdem_vdem_low_owid</span></span></code></pre></div>
</div>
<div id="owid_source" class="section level5" number="25.3.2.2.3">
<h5>
<span class="header-section-number">25.3.2.2.3</span> <code>owid_source</code><a class="anchor" aria-label="anchor" href="#owid_source"><i class="fas fa-link"></i></a>
</h5>
<p>A function to get source information from an OWID dataset and display it in the R console.</p>
<pre><code>owid_source(data)</code></pre>
<ul>
<li>Example</li>
</ul>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid_source.html">owid_source</a></span><span class="op">(</span><span class="va">emissions</span><span class="op">)</span></span>
<span><span class="co">#&gt; Dataset Name: Our World in Data based on Climate Analysis Indicators Tool (CAIT).</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Published By: CAIT Climate Data Explorer via Climate Watch</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Link: https://www.climatewatchdata.org/data-explorer/historical-emissions</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Emissions are measured in tonnes of carbon dioxide equivalents (CO₂e), based on 100-year global warming potential factors for non-CO₂ gases.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Emissions are broken down by sector. Further information on sector definitions is available &lt;a href="https://ourworldindata.org/ghg-emissions-by-sector"&gt;here&lt;/a&gt;.</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid_source.html">owid_source</a></span><span class="op">(</span><span class="va">rights</span><span class="op">)</span></span>
<span><span class="co">#&gt; Dataset Name: Fariss et al. (2020)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Published By:  Fariss CJ, Kenwick MR, Reuning K. Estimating one-sided-killings from a robust measurement model of human rights. Journal of Peace Research. 2020;57(6):801-814. doi:10.1177/0022343320965670</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Link: https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/RQ85GK</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; This dataset provides the human rights protection scores by Fariss et al. (2020), first developed by Schnakenberg and Fariss (2014).</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; You can download the code and complete dataset, including supplementary variables, from GitHub: https://github.com/owid/notebooks/tree/main/BastianHerre/human_rights</span></span></code></pre></div>
</div>
<div id="view_chart" class="section level5" number="25.3.2.2.4">
<h5>
<span class="header-section-number">25.3.2.2.4</span> <code>view_chart</code><a class="anchor" aria-label="anchor" href="#view_chart"><i class="fas fa-link"></i></a>
</h5>
<p>A function that opens the original OWID chart in your browser</p>
<pre><code>view_chart(x)</code></pre>
<ul>
<li><p><code>x</code> Either a tibble returned by <code><a href="https://rdrr.io/pkg/owidR/man/owid.html">owid()</a></code>, or a <code>chart_id</code>.</p></li>
<li><p>Example</p></li>
</ul>
<p>The first one uses the chart, i.e., the tibble returned by <code><a href="https://rdrr.io/pkg/owidR/man/owid.html">owid()</a></code>, and the second, <code>chart_id</code>. You can also embed in your R Markdown file by copying Embed <code>iframe</code> clink from <code>Share</code> botton at the bottom right corner.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">firearm_suicide</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid.html">owid</a></span><span class="op">(</span><span class="st">"suicide-rate-by-firearm"</span><span class="op">)</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/pkg/owidR/man/view_chart.html">view_chart</a></span><span class="op">(</span><span class="va">firearm_suicide</span><span class="op">)</span></span></code></pre></div>
<iframe src="https://ourworldindata.org/grapher/suicide-rate-by-firearm" loading="lazy" style="width: 100%; height: 600px; border: 0px none;">
</iframe>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/owidR/man/view_chart.html">view_chart</a></span><span class="op">(</span><span class="st">"electoral-democracy"</span><span class="op">)</span></span></code></pre></div>
<iframe src="https://ourworldindata.org/grapher/electoral-democracy?country=ARG~AUS~BWA~CHN" loading="lazy" style="width: 100%; height: 600px; border: 0px none;">
</iframe>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/owidR/man/view_chart.html">view_chart</a></span><span class="op">(</span><span class="st">"share-of-individuals-using-the-internet"</span><span class="op">)</span></span></code></pre></div>
<iframe src="https://ourworldindata.org/grapher/share-of-individuals-using-the-internet" loading="lazy" style="width: 100%; height: 600px; border: 0px none;">
</iframe>
</div>
<div id="pal_owid" class="section level5" number="25.3.2.2.5">
<h5>
<span class="header-section-number">25.3.2.2.5</span> <code>pal_owid</code><a class="anchor" aria-label="anchor" href="#pal_owid"><i class="fas fa-link"></i></a>
</h5>
<p>Colour palettes based on the colours used by Our World in Data</p>
</div>
<div id="owid_covid" class="section level5" number="25.3.2.2.6">
<h5>
<span class="header-section-number">25.3.2.2.6</span> <code>owid_covid</code><a class="anchor" aria-label="anchor" href="#owid_covid"><i class="fas fa-link"></i></a>
</h5>
<p>owid_covid: Get the Our World in Data covid-19 dataset</p>
<pre><code><a href="https://rdrr.io/pkg/owidR/man/owid_covid.html">owid_covid()</a></code></pre>
<p>See the detail at the <a href="https://github.com/owid/covid-19-data/tree/master/public/data#data-on-covid-19-coronavirus-by-our-world-in-data">GitHub site</a>.</p>
<ul>
<li>Example</li>
</ul>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid_covid.html">owid_covid</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">location</span> <span class="op">==</span> <span class="st">"Japan"</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 1,115 × 67</span></span>
<span><span class="co">#&gt;    iso_code continent location date       total_ca…¹ new_c…²</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;    &lt;date&gt;          &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 JPN      Asia      Japan    2020-01-22          2      NA</span></span>
<span><span class="co">#&gt;  2 JPN      Asia      Japan    2020-01-23          2       0</span></span>
<span><span class="co">#&gt;  3 JPN      Asia      Japan    2020-01-24          2       0</span></span>
<span><span class="co">#&gt;  4 JPN      Asia      Japan    2020-01-25          2       0</span></span>
<span><span class="co">#&gt;  5 JPN      Asia      Japan    2020-01-26          4       2</span></span>
<span><span class="co">#&gt;  6 JPN      Asia      Japan    2020-01-27          4       0</span></span>
<span><span class="co">#&gt;  7 JPN      Asia      Japan    2020-01-28          7       3</span></span>
<span><span class="co">#&gt;  8 JPN      Asia      Japan    2020-01-29          7       0</span></span>
<span><span class="co">#&gt;  9 JPN      Asia      Japan    2020-01-30         11       4</span></span>
<span><span class="co">#&gt; 10 JPN      Asia      Japan    2020-01-31         15       4</span></span>
<span><span class="co">#&gt; # … with 1,105 more rows, 61 more variables:</span></span>
<span><span class="co">#&gt; #   new_cases_smoothed &lt;dbl&gt;, total_deaths &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   new_deaths &lt;dbl&gt;, new_deaths_smoothed &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   total_cases_per_million &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   new_cases_per_million &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   new_cases_smoothed_per_million &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   total_deaths_per_million &lt;dbl&gt;, …</span></span></code></pre></div>
</div>
</div>
</div>
</div>
<div id="examples" class="section level2" number="25.4">
<h2>
<span class="header-section-number">25.4</span> Examples<a class="anchor" aria-label="anchor" href="#examples"><i class="fas fa-link"></i></a>
</h2>
<p>The following is based on the presentation and the first two R Notebook files created by Professor Kaizoji.</p>
<div id="human-rights--modified-from-readme" class="section level3" number="25.4.1">
<h3>
<span class="header-section-number">25.4.1</span> Human Rights- modified from README<a class="anchor" aria-label="anchor" href="#human-rights--modified-from-readme"><i class="fas fa-link"></i></a>
</h3>
<p>Lets use the core functions to get data on how human rights have changed over time. First by searching for charts on human rights.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid_search.html">owid_search</a></span><span class="op">(</span><span class="st">"human rights"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 8 × 2</span></span>
<span><span class="co">#&gt;   titles                                             chart…¹</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                                              &lt;chr&gt;  </span></span>
<span><span class="co">#&gt; 1 Human rights vs. electoral democracy               human-…</span></span>
<span><span class="co">#&gt; 2 Countries with accredited independent national hu… countr…</span></span>
<span><span class="co">#&gt; 3 Distribution of human rights                       distri…</span></span>
<span><span class="co">#&gt; 4 Human rights                                       human-…</span></span>
<span><span class="co">#&gt; 5 Human rights vs. GDP per capita                    human-…</span></span>
<span><span class="co">#&gt; 6 Human rights weighted by population                human-…</span></span>
<span><span class="co">#&gt; 7 Number of cases of killed human rights defenders,… cases-…</span></span>
<span><span class="co">#&gt; 8 Share of countries with accredited independent na… share-…</span></span>
<span><span class="co">#&gt; # … with abbreviated variable name ¹​chart_id</span></span></code></pre></div>
<p>Let’s use the human rights protection dataset.</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rights</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid.html">owid</a></span><span class="op">(</span><span class="st">"human-rights-protection"</span><span class="op">)</span></span>
<span><span class="va">rights</span></span>
<span><span class="co">#&gt; # A tibble: 11,273 × 4</span></span>
<span><span class="co">#&gt;    entity      code   year `Human rights protection`</span></span>
<span><span class="co">#&gt;  * &lt;chr&gt;       &lt;chr&gt; &lt;int&gt;                     &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Afghanistan AFG    1946                     0.829</span></span>
<span><span class="co">#&gt;  2 Afghanistan AFG    1947                     0.878</span></span>
<span><span class="co">#&gt;  3 Afghanistan AFG    1948                     0.935</span></span>
<span><span class="co">#&gt;  4 Afghanistan AFG    1949                     0.966</span></span>
<span><span class="co">#&gt;  5 Afghanistan AFG    1950                     1.01 </span></span>
<span><span class="co">#&gt;  6 Afghanistan AFG    1951                     1.09 </span></span>
<span><span class="co">#&gt;  7 Afghanistan AFG    1952                     1.13 </span></span>
<span><span class="co">#&gt;  8 Afghanistan AFG    1953                     1.18 </span></span>
<span><span class="co">#&gt;  9 Afghanistan AFG    1954                     1.22 </span></span>
<span><span class="co">#&gt; 10 Afghanistan AFG    1955                     1.22 </span></span>
<span><span class="co">#&gt; # … with 11,263 more rows</span></span></code></pre></div>
<p>ggplot2 makes it easy to visualise our data.</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">entity</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"United Kingdom"</span>, <span class="st">"France"</span>, <span class="st">"United States"</span>, <span class="st">"Japan"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>  </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">`Human rights protection`</span>, colour <span class="op">=</span> <span class="va">entity</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="32-owid_files/figure-html/unnamed-chunk-25-1.png" width="672"></div>
</div>
<div id="internet---modified-from-vignette" class="section level3" number="25.4.2">
<h3>
<span class="header-section-number">25.4.2</span> Internet - modified from vignette<a class="anchor" aria-label="anchor" href="#internet---modified-from-vignette"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid_search.html">owid_search</a></span><span class="op">(</span><span class="st">"internet"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 2</span></span>
<span><span class="co">#&gt;   titles                                             chart…¹</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                                              &lt;chr&gt;  </span></span>
<span><span class="co">#&gt; 1 Share of schools with access to the Internet for … school…</span></span>
<span><span class="co">#&gt; 2 Landline Internet subscriptions                    landli…</span></span>
<span><span class="co">#&gt; 3 Landline Internet subscriptions per 100 people     broadb…</span></span>
<span><span class="co">#&gt; 4 Number of people using the Internet                number…</span></span>
<span><span class="co">#&gt; 5 Share of US adults who use the Internet, by age    share-…</span></span>
<span><span class="co">#&gt; 6 Share of the population using the Internet         share-…</span></span>
<span><span class="co">#&gt; # … with abbreviated variable name ¹​chart_id</span></span></code></pre></div>
<p>Get a dataset used in an OWID chart.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid.html">owid</a></span><span class="op">(</span><span class="st">"share-of-individuals-using-the-internet"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/top_n.html">top_n</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; Selecting by Individuals using the Internet (% of</span></span>
<span><span class="co">#&gt; population)</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 4</span></span>
<span><span class="co">#&gt;   entity               code   year Individuals using the I…¹</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                &lt;chr&gt; &lt;int&gt;                     &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 United Arab Emirates ARE    2020                       100</span></span>
<span><span class="co">#&gt; # … with abbreviated variable name</span></span>
<span><span class="co">#&gt; #   ¹​`Individuals using the Internet (% of population)`</span></span></code></pre></div>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">internet</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid.html">owid</a></span><span class="op">(</span><span class="st">"share-of-individuals-using-the-internet"</span>, rename <span class="op">=</span> <span class="st">"internet_use"</span><span class="op">)</span></span>
<span><span class="va">internet</span></span>
<span><span class="co">#&gt; # A tibble: 6,660 × 4</span></span>
<span><span class="co">#&gt;    entity      code   year internet_use</span></span>
<span><span class="co">#&gt;  * &lt;chr&gt;       &lt;chr&gt; &lt;int&gt;        &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Afghanistan AFG    1990      0      </span></span>
<span><span class="co">#&gt;  2 Afghanistan AFG    1991      0      </span></span>
<span><span class="co">#&gt;  3 Afghanistan AFG    1992      0      </span></span>
<span><span class="co">#&gt;  4 Afghanistan AFG    1993      0      </span></span>
<span><span class="co">#&gt;  5 Afghanistan AFG    1994      0      </span></span>
<span><span class="co">#&gt;  6 Afghanistan AFG    1995      0      </span></span>
<span><span class="co">#&gt;  7 Afghanistan AFG    2001      0.00472</span></span>
<span><span class="co">#&gt;  8 Afghanistan AFG    2002      0.00456</span></span>
<span><span class="co">#&gt;  9 Afghanistan AFG    2003      0.0879 </span></span>
<span><span class="co">#&gt; 10 Afghanistan AFG    2004      0.106  </span></span>
<span><span class="co">#&gt; # … with 6,650 more rows</span></span></code></pre></div>
<p>Get source information on an OWID dataset</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid_source.html">owid_source</a></span><span class="op">(</span><span class="va">internet</span><span class="op">)</span></span>
<span><span class="co">#&gt; Dataset Name: International Telecommunication Union (via World Bank)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Published By: World Development Indicators - World Bank (2022.05.26)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Link: https://datacatalog.worldbank.org/search/dataset/0037712/World-Development-Indicators</span></span></code></pre></div>
<p>A function that opens the original OWID chart in your browser.</p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/owidR/man/view_chart.html">view_chart</a></span><span class="op">(</span><span class="va">internet</span><span class="op">)</span></span></code></pre></div>
<iframe src="https://ourworldindata.org/grapher/share-of-individuals-using-the-internet" loading="lazy" style="width: 100%; height: 600px; border: 0px none;">
</iframe>
<p>Plot an owid dataset. The first is the simplest, and the second uses oied theme.</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">internet</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">entity</span> <span class="op">==</span> <span class="st">"World"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">internet_use</span><span class="op">)</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span> </span></code></pre></div>
<div class="inline-figure"><img src="32-owid_files/figure-html/unnamed-chunk-31-1.png" width="672"></div>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">internet</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">entity</span> <span class="op">==</span> <span class="st">"World"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">internet_use</span><span class="op">)</span><span class="op">)</span><span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Share of the World Population \nusing the Internet"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Individuals using the Internet \n(% of population)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="32-owid_files/figure-html/unnamed-chunk-32-1.png" width="672"></div>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">internet</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">entity</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"United Kingdom"</span>, <span class="st">"Spain"</span>, <span class="st">"Russia"</span>, <span class="st">"Egypt"</span>, <span class="st">"Nigeria"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">internet_use</span>, color <span class="op">=</span>  <span class="va">entity</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Share of Population with Using the Internet"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Individuals using the Internet \n(% of population)"</span>,</span>
<span>       color <span class="op">=</span> <span class="st">"country"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">100</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/label_number.html">label_number</a></span><span class="op">(</span>suffix <span class="op">=</span> <span class="st">"%"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="32-owid_files/figure-html/unnamed-chunk-33-1.png" width="672"></div>
<p>Creating a choropleth map.</p>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid_map.html">owid_map</a></span><span class="op">(</span><span class="va">internet</span>, year <span class="op">=</span> <span class="fl">2017</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Share of Population Using the Internet, 2017"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: `owid_map()` was deprecated in owidR 1.4.0.</span></span>
<span><span class="co">#&gt; ℹ Please use `ggplot2::ggplot()` instead.</span></span>
<span><span class="co">#&gt; Warning: `theme_owid()` was deprecated in owidR 1.4.0.</span></span>
<span><span class="co">#&gt; ℹ Please use `ggplot2::theme()` instead.</span></span>
<span><span class="co">#&gt; ℹ The deprecated feature was likely used in the owidR</span></span>
<span><span class="co">#&gt;   package.</span></span>
<span><span class="co">#&gt;   Please report the issue to the authors.</span></span>
<span><span class="co">#&gt; Loading required namespace: showtext</span></span>
<span><span class="co">#&gt; Warning in theme_owid(): importing fonts requires the</span></span>
<span><span class="co">#&gt; showtext pacakge</span></span></code></pre></div>
<div class="inline-figure"><img src="32-owid_files/figure-html/unnamed-chunk-34-1.png" width="672"></div>
</div>
<div id="democracy---modified-from-vignette" class="section level3" number="25.4.3">
<h3>
<span class="header-section-number">25.4.3</span> Democracy - modified from vignette<a class="anchor" aria-label="anchor" href="#democracy---modified-from-vignette"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid_search.html">owid_search</a></span><span class="op">(</span><span class="st">"democrac"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html">as_tibble</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 106 × 2</span></span>
<span><span class="co">#&gt;    titles                                           chart_id</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                                            &lt;chr&gt;   </span></span>
<span><span class="co">#&gt;  1 Child mortality rate vs. electoral democracy     child-m…</span></span>
<span><span class="co">#&gt;  2 People living in democracies and non-democracies world-p…</span></span>
<span><span class="co">#&gt;  3 Age of democracy                                 age-of-…</span></span>
<span><span class="co">#&gt;  4 Age of democracy                                 age-of-…</span></span>
<span><span class="co">#&gt;  5 Age of democracy                                 age-of-…</span></span>
<span><span class="co">#&gt;  6 Age of electoral democracy                       age-of-…</span></span>
<span><span class="co">#&gt;  7 Age of electoral democracy                       age-of-…</span></span>
<span><span class="co">#&gt;  8 Age of liberal democracy                         age-of-…</span></span>
<span><span class="co">#&gt;  9 Citizen satisfaction with democracy              citizen…</span></span>
<span><span class="co">#&gt; 10 Citizen support for democracy                    citizen…</span></span>
<span><span class="co">#&gt; # … with 96 more rows</span></span></code></pre></div>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid.html">owid</a></span><span class="op">(</span><span class="st">"electoral-democracy"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/top_n.html">top_n</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; Selecting by electdem_vdem_low_owid</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 6</span></span>
<span><span class="co">#&gt;   entity code   year `Electoral democracy` electde…¹ elect…²</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;  &lt;chr&gt; &lt;int&gt;                 &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 Sweden SWE    2012                 0.926     0.958   0.905</span></span>
<span><span class="co">#&gt; # … with abbreviated variable names</span></span>
<span><span class="co">#&gt; #   ¹​electdem_vdem_high_owid, ²​electdem_vdem_low_owid</span></span></code></pre></div>
<div class="sourceCode" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">democracy</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid.html">owid</a></span><span class="op">(</span><span class="st">"electoral-democracy"</span>, rename <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"electoral_democracy"</span>, <span class="st">"vdem_high"</span>, <span class="st">"vdem_low"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">democracy</span></span>
<span><span class="co">#&gt; # A tibble: 31,995 × 6</span></span>
<span><span class="co">#&gt;    entity      code   year electoral_democ…¹ vdem_…² vdem_…³</span></span>
<span><span class="co">#&gt;  * &lt;chr&gt;       &lt;chr&gt; &lt;int&gt;             &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Afghanistan AFG    1789             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  2 Afghanistan AFG    1790             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  3 Afghanistan AFG    1791             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  4 Afghanistan AFG    1792             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  5 Afghanistan AFG    1793             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  6 Afghanistan AFG    1794             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  7 Afghanistan AFG    1795             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  8 Afghanistan AFG    1796             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt;  9 Afghanistan AFG    1797             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt; 10 Afghanistan AFG    1798             0.018   0.026   0.012</span></span>
<span><span class="co">#&gt; # … with 31,985 more rows, and abbreviated variable names</span></span>
<span><span class="co">#&gt; #   ¹​electoral_democracy, ²​vdem_high, ³​vdem_low</span></span></code></pre></div>
<div class="sourceCode" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid_source.html">owid_source</a></span><span class="op">(</span><span class="va">democracy</span><span class="op">)</span></span>
<span><span class="co">#&gt; Value:  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Dataset Name: OWID based on V-Dem (v12) and Lührmann et al. (2018)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Published By: Our World in Data, Bastian Herre</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Link: http://v-dem.net/vdemds.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; This dataset provides information on democracy and human rights, using data from the Varieties of Democracy project (v12), and the Regimes of the World classification by Lührmann et al. (2018).</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; We expand the countries and years covered, and refine the coding of the Regimes of the World classification. You can read a detailed description of the data in these posts:</span></span>
<span><span class="co">#&gt; https://ourworldindata.org/regimes-of-the-world-data</span></span>
<span><span class="co">#&gt; https://ourworldindata.org/vdem-electoral-democracy-data</span></span>
<span><span class="co">#&gt; https://ourworldindata.org/vdem-human-rights-data</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; You can download the code and complete dataset, including supplementary variables, from GitHub: https://github.com/owid/notebooks/tree/main/BastianHerre/democracyValue:  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Dataset Name: OWID based on V-Dem (v12) and Lührmann et al. (2018)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Published By: Our World in Data, Bastian Herre</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Link: http://v-dem.net/vdemds.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; This dataset provides information on democracy and human rights, using data from the Varieties of Democracy project (v12), and the Regimes of the World classification by Lührmann et al. (2018).</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; We expand the countries and years covered, and refine the coding of the Regimes of the World classification. You can read a detailed description of the data in these posts:</span></span>
<span><span class="co">#&gt; https://ourworldindata.org/regimes-of-the-world-data</span></span>
<span><span class="co">#&gt; https://ourworldindata.org/vdem-electoral-democracy-data</span></span>
<span><span class="co">#&gt; https://ourworldindata.org/vdem-human-rights-data</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; You can download the code and complete dataset, including supplementary variables, from GitHub: https://github.com/owid/notebooks/tree/main/BastianHerre/democracyValue:  </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Dataset Name: OWID based on V-Dem (v12) and Lührmann et al. (2018)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Published By: Our World in Data, Bastian Herre</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Link: http://v-dem.net/vdemds.html</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; This dataset provides information on democracy and human rights, using data from the Varieties of Democracy project (v12), and the Regimes of the World classification by Lührmann et al. (2018).</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; We expand the countries and years covered, and refine the coding of the Regimes of the World classification. You can read a detailed description of the data in these posts:</span></span>
<span><span class="co">#&gt; https://ourworldindata.org/regimes-of-the-world-data</span></span>
<span><span class="co">#&gt; https://ourworldindata.org/vdem-electoral-democracy-data</span></span>
<span><span class="co">#&gt; https://ourworldindata.org/vdem-human-rights-data</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; You can download the code and complete dataset, including supplementary variables, from GitHub: https://github.com/owid/notebooks/tree/main/BastianHerre/democracy</span></span></code></pre></div>
<div class="sourceCode" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid_map.html">owid_map</a></span><span class="op">(</span><span class="va">democracy</span>, year <span class="op">=</span> <span class="fl">2015</span>, palette <span class="op">=</span> <span class="st">"YlGn"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Electoral Democracy"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Loading required namespace: showtext</span></span>
<span><span class="co">#&gt; Warning in theme_owid(): importing fonts requires the</span></span>
<span><span class="co">#&gt; showtext pacakge</span></span></code></pre></div>
<div class="inline-figure"><img src="32-owid_files/figure-html/unnamed-chunk-39-1.png" width="672"></div>
<div class="sourceCode" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">democracy</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">entity</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"United Kingdom"</span>, <span class="st">"Spain"</span>, <span class="st">"Russia"</span>, <span class="st">"Egypt"</span>, <span class="st">"Nigeria"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">year</span>, <span class="va">electoral_democracy</span>, color <span class="op">=</span> <span class="va">entity</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Electoral Democracy"</span>, y <span class="op">=</span> <span class="st">""</span>, color <span class="op">=</span> <span class="st">"country"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html">scale_y_continuous</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu">scales</span><span class="fu">::</span><span class="fu"><a href="https://scales.r-lib.org/reference/label_number.html">label_number</a></span><span class="op">(</span>suffix <span class="op">=</span> <span class="st">"%"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="32-owid_files/figure-html/unnamed-chunk-40-1.png" width="672"></div>
<div class="sourceCode" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">gdp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid.html">owid</a></span><span class="op">(</span><span class="st">"gdp-per-capita-worldbank"</span>, rename <span class="op">=</span> <span class="st">"gdp"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">gov_exp</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid.html">owid</a></span><span class="op">(</span><span class="st">"total-gov-expenditure-gdp-wdi"</span>, rename <span class="op">=</span> <span class="st">"gov_exp"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">age_dep</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid.html">owid</a></span><span class="op">(</span><span class="st">"age-dependency-ratio-of-working-age-population"</span>, rename <span class="op">=</span> <span class="st">"age_dep"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">unemployment</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid.html">owid</a></span><span class="op">(</span><span class="st">"unemployment-rate"</span>, rename <span class="op">=</span> <span class="st">"unemp"</span><span class="op">)</span></span></code></pre></div>
<p>Mutating joins</p>
<p>left_join(): includes all rows in x.</p>
<p><strong>References</strong></p>
<ul>
<li>See <a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="uri">https://dplyr.tidyverse.org/reference/mutate-joins.html</a>.</li>
<li>Posit Primers - Tidy your data: <a href="https://posit.cloud/learn/primers/4" class="uri">https://posit.cloud/learn/primers/4</a>
<ul>
<li>Join Data Sets: <a href="https://posit.cloud/learn/primers/4.3" class="uri">https://posit.cloud/learn/primers/4.3</a>
</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="va">internet</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">democracy</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">gdp</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">gov_exp</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">age_dep</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html">left_join</a></span><span class="op">(</span><span class="va">unemployment</span><span class="op">)</span></span>
<span><span class="co">#&gt; Joining, by = c("entity", "code", "year")</span></span>
<span><span class="co">#&gt; Joining, by = c("entity", "code", "year")</span></span>
<span><span class="co">#&gt; Joining, by = c("entity", "code", "year")</span></span>
<span><span class="co">#&gt; Joining, by = c("entity", "code", "year")</span></span>
<span><span class="co">#&gt; Joining, by = c("entity", "code", "year")</span></span></code></pre></div>
<p>Drawing scatter plot</p>
<div class="sourceCode" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2015</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">internet_use</span>, <span class="va">electoral_democracy</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="st">"#57677D"</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span>, colour <span class="op">=</span> <span class="st">"#DC5E78"</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Relationship Between Internet Use \nand electoral_democracy"</span>, x <span class="op">=</span> <span class="st">"Internet Use"</span>, y <span class="op">=</span> <span class="st">"electoral_democracy"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="32-owid_files/figure-html/unnamed-chunk-43-1.png" width="672"></div>
<div class="sourceCode" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">year</span> <span class="op">==</span> <span class="fl">2015</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">gdp</span>, <span class="va">internet_use</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"gam"</span>, colour <span class="op">=</span> <span class="st">"red"</span>, level <span class="op">=</span> <span class="fl">0.0</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Relationship Between Internet Use and GDP"</span>, x <span class="op">=</span> <span class="st">"GDP"</span>, y <span class="op">=</span> <span class="st">"Internet Use"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="32-owid_files/figure-html/unnamed-chunk-44-1.png" width="672"></div>
<div class="sourceCode" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">electoral_democracy</span> <span class="op">~</span> <span class="va">internet_use</span>, <span class="va">data</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">model1</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = electoral_democracy ~ internet_use, data = data)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;      Min       1Q   Median       3Q      Max </span></span>
<span><span class="co">#&gt; -0.76097 -0.20192  0.02248  0.18764  0.48558 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;               Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)  0.4283461  0.0042829  100.01   &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; internet_use 0.0035522  0.0001166   30.46   &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  </span></span>
<span><span class="co">#&gt; 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 0.2475 on 5311 degrees of freedom</span></span>
<span><span class="co">#&gt;   (1347 observations deleted due to missingness)</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.1487, Adjusted R-squared:  0.1485 </span></span>
<span><span class="co">#&gt; F-statistic: 927.7 on 1 and 5311 DF,  p-value: &lt; 2.2e-16</span></span></code></pre></div>
<div class="sourceCode" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">gdp</span> <span class="op">~</span> <span class="va">internet_use</span>, <span class="va">data</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">model2</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = gdp ~ internet_use, data = data)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;    Min     1Q Median     3Q    Max </span></span>
<span><span class="co">#&gt; -35872  -7670  -4496   3306 126683 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;              Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)  8101.982    276.503   29.30   &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; internet_use  413.174      7.315   56.48   &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  </span></span>
<span><span class="co">#&gt; 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 16350 on 5872 degrees of freedom</span></span>
<span><span class="co">#&gt;   (786 observations deleted due to missingness)</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.352,  Adjusted R-squared:  0.3519 </span></span>
<span><span class="co">#&gt; F-statistic:  3190 on 1 and 5872 DF,  p-value: &lt; 2.2e-16</span></span></code></pre></div>
<p>Creating a table of the results of the regression analysis using <code>texreg</code>.
For the first time, install the pacage <code>texreg</code>.</p>
<div class="sourceCode" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"texreg"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/leifeld/texreg/">texreg</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; Version:  1.38.6</span></span>
<span><span class="co">#&gt; Date:     2022-04-06</span></span>
<span><span class="co">#&gt; Author:   Philip Leifeld (University of Essex)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Consider submitting praise using the praise or praise_interactive functions.</span></span>
<span><span class="co">#&gt; Please cite the JSS article in your publications -- see citation("texreg").</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'texreg'</span></span>
<span><span class="co">#&gt; The following object is masked from 'package:tidyr':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     extract</span></span></code></pre></div>
<div class="sourceCode" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">models</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="st">"Model 1"</span> <span class="op">=</span> <span class="va">model1</span>,</span>
<span>               <span class="st">"Model 2"</span> <span class="op">=</span> <span class="va">model2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/texreg/man/screenreg.html">screenreg</a></span><span class="op">(</span><span class="va">models</span>, stars <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ================================</span></span>
<span><span class="co">#&gt;               Model 1   Model 2 </span></span>
<span><span class="co">#&gt; --------------------------------</span></span>
<span><span class="co">#&gt; (Intercept)      0.43   8101.98 </span></span>
<span><span class="co">#&gt;                 (0.00)  (276.50)</span></span>
<span><span class="co">#&gt; internet_use     0.00    413.17 </span></span>
<span><span class="co">#&gt;                 (0.00)    (7.32)</span></span>
<span><span class="co">#&gt; --------------------------------</span></span>
<span><span class="co">#&gt; R^2              0.15      0.35 </span></span>
<span><span class="co">#&gt; Adj. R^2         0.15      0.35 </span></span>
<span><span class="co">#&gt; Num. obs.     5313      5874    </span></span>
<span><span class="co">#&gt; ================================</span></span></code></pre></div>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="empty"></div>
<div class="empty"></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <div id="book-on-this-page"></div>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Data Analysis for Researchers AY2022</strong>" was written by Hiroshi Suzuki. It was last built on 2023-02-11.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
