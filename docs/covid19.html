<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>B Covid 19 | Data Analysis for Researchers AY2022</title>
<meta name="author" content="Hiroshi Suzuki">
<meta name="description" content="An example of an R Notebook, rendered at 2023-02-11 22:22:47 JST  B.1 Introduction The following site of Johns Hopkins University is famous: https://coronavirus.jhu.edu/map.html In this article,...">
<meta name="generator" content="bookdown 0.31 with bs4_book()">
<meta property="og:title" content="B Covid 19 | Data Analysis for Researchers AY2022">
<meta property="og:type" content="book">
<meta property="og:url" content="https://icu-hsuzuki.github.io/da4r2022/covid19.html">
<meta property="og:description" content="An example of an R Notebook, rendered at 2023-02-11 22:22:47 JST  B.1 Introduction The following site of Johns Hopkins University is famous: https://coronavirus.jhu.edu/map.html In this article,...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="B Covid 19 | Data Analysis for Researchers AY2022">
<meta name="twitter:description" content="An example of an R Notebook, rendered at 2023-02-11 22:22:47 JST  B.1 Introduction The following site of Johns Hopkins University is famous: https://coronavirus.jhu.edu/map.html In this article,...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.2/transition.js"></script><script src="libs/bs3compat-0.4.2/tabs.js"></script><script src="libs/bs3compat-0.4.2/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.6.1/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.26/datatables.js"></script><link href="libs/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.12.1/js/jquery.dataTables.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Data Analysis for Researchers AY2022</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">About</a></li>
<li class="book-part">PART I. INTRODUCTION</li>
<li><a class="" href="intro.html"><span class="header-section-number">1</span> About the Course</a></li>
<li><a class="" href="randrstudio.html"><span class="header-section-number">2</span> R and R Studio</a></li>
<li><a class="" href="tidyverse.html"><span class="header-section-number">3</span> tidyverse</a></li>
<li><a class="" href="rmarkdown.html"><span class="header-section-number">4</span> R Markdown</a></li>
<li><a class="" href="dplyr.html"><span class="header-section-number">5</span> dplyr</a></li>
<li><a class="" href="a2resp.html"><span class="header-section-number">6</span> Assignment Two and Responses</a></li>
<li><a class="" href="wdidata.html"><span class="header-section-number">7</span> WDI</a></li>
<li><a class="" href="ggplot2.html"><span class="header-section-number">8</span> ggplot2</a></li>
<li><a class="" href="a3resp.html"><span class="header-section-number">9</span> Assignment Three</a></li>
<li><a class="" href="tidy.html"><span class="header-section-number">10</span> tidyr</a></li>
<li><a class="" href="workflow.html"><span class="header-section-number">11</span> Workflow</a></li>
<li><a class="" href="a4resp.html"><span class="header-section-number">12</span> Assignment Four</a></li>
<li><a class="" href="model.html"><span class="header-section-number">13</span> Linear Model</a></li>
<li><a class="" href="roundups.html"><span class="header-section-number">14</span> Roudups</a></li>
<li><a class="" href="a5resp.html"><span class="header-section-number">15</span> Assignment Five</a></li>
<li class="book-part">PART II EDA BASICS</li>
<li><a class="" href="eda.html"><span class="header-section-number">16</span> Exploratory Data analysis</a></li>
<li><a class="" href="importing.html"><span class="header-section-number">17</span> Importing</a></li>
<li><a class="" href="transforming.html"><span class="header-section-number">18</span> Transforming</a></li>
<li><a class="" href="tidying.html"><span class="header-section-number">19</span> Tidying</a></li>
<li><a class="" href="visualizing.html"><span class="header-section-number">20</span> Visualizing</a></li>
<li><a class="" href="modeling.html"><span class="header-section-number">21</span> Modeling</a></li>
<li><a class="" href="communicating.html"><span class="header-section-number">22</span> Communicating</a></li>
<li class="book-part">PART III OPEN PUBLIC DATA</li>
<li><a class="" href="worldbank.html"><span class="header-section-number">23</span> World Bank</a></li>
<li><a class="" href="owid.html"><span class="header-section-number">24</span> Our World in Data</a></li>
<li><a class="" href="oecd.html"><span class="header-section-number">25</span> OECD</a></li>
<li><a class="" href="undata.html"><span class="header-section-number">26</span> UN Data</a></li>
<li><a class="" href="wir.html"><span class="header-section-number">27</span> World Inequality Report</a></li>
<li class="book-part">APPENDIX</li>
<li><a class="" href="histdata.html"><span class="header-section-number">A</span> HistData</a></li>
<li><a class="active" href="covid19.html"><span class="header-section-number">B</span> Covid 19</a></li>
<li><a class="" href="bookdown.html"><span class="header-section-number">C</span> Bookdown</a></li>
<li><a class="" href="template.html"><span class="header-section-number">D</span> Template</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://icu-hsuzuki.github.io/da4r2022/">View book source <i class="fab fa-gitlab"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="covid19" class="section level1" number="29">
<h1>
<span class="header-section-number">B</span> Covid 19<a class="anchor" aria-label="anchor" href="#covid19"><i class="fas fa-link"></i></a>
</h1>
<blockquote>
<p>An example of an R Notebook, rendered at 2023-02-11 22:22:47 JST</p>
</blockquote>
<div id="introduction-1" class="section level2" number="29.1">
<h2>
<span class="header-section-number">B.1</span> Introduction<a class="anchor" aria-label="anchor" href="#introduction-1"><i class="fas fa-link"></i></a>
</h2>
<p>The following site of Johns Hopkins University is famous:</p>
<ul>
<li><a href="https://coronavirus.jhu.edu/map.html" class="uri">https://coronavirus.jhu.edu/map.html</a></li>
</ul>
<p>In this article, we study a coronavirus data collected by Johns Hopkins University called “JHU Covid-19 global time series data”. Since the original data requires reshaping, we use the data provided by RamiKrispin in the following site.</p>
<ul>
<li><a href="https://github.com/RamiKrispin/coronavirus/tree/master/csv" class="uri">https://github.com/RamiKrispin/coronavirus/tree/master/csv</a></li>
</ul>
<p>See also the R package <code>coronavirus</code> at</p>
<ul>
<li><a href="https://CRAN.R-project.org/package=coronavirus" class="uri">https://CRAN.R-project.org/package=coronavirus</a></li>
<li>For installation:</li>
</ul>
<div class="sourceCode" id="cb694"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span><span class="op">(</span><span class="st">"coronavirus"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb695"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; ── Attaching packages ─────────────────── tidyverse 1.3.2 ──</span></span>
<span><span class="co">#&gt; ✔ ggplot2 3.4.0      ✔ purrr   1.0.0 </span></span>
<span><span class="co">#&gt; ✔ tibble  3.1.8      ✔ dplyr   1.0.10</span></span>
<span><span class="co">#&gt; ✔ tidyr   1.2.1      ✔ stringr 1.5.0 </span></span>
<span><span class="co">#&gt; ✔ readr   2.1.3      ✔ forcats 0.5.2 </span></span>
<span><span class="co">#&gt; ── Conflicts ────────────────────── tidyverse_conflicts() ──</span></span>
<span><span class="co">#&gt; ✖ dplyr::filter() masks stats::filter()</span></span>
<span><span class="co">#&gt; ✖ dplyr::lag()    masks stats::lag()</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RamiKrispin/coronavirus">coronavirus</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/piersyork/owidR">owidR</a></span><span class="op">)</span></span></code></pre></div>
<p>We can directly download and read the data from:</p>
<ul>
<li><a href="https://github.com/RamiKrispin/coronavirus/raw/master/csv/coronavirus.csv" class="uri">https://github.com/RamiKrispin/coronavirus/raw/master/csv/coronavirus.csv</a></li>
</ul>
<p>It is updated daily.</p>
<p>In this note, we use the original JHU data and transform it using <code>dplyr</code> in the form similar to the Krispin’s.</p>
<p>Our world in data also provides vairous data related to covid-19.</p>
<div id="owid_covid-1" class="section level5" number="29.1.0.0.1">
<h5>
<span class="header-section-number">B.1.0.0.1</span> <code>owid_covid</code><a class="anchor" aria-label="anchor" href="#owid_covid-1"><i class="fas fa-link"></i></a>
</h5>
<p>owid_covid: Get the Our World in Data covid-19 dataset</p>
<pre><code><a href="https://rdrr.io/pkg/owidR/man/owid_covid.html">owid_covid()</a></code></pre>
<p>See the detail at the <a href="https://github.com/owid/covid-19-data/tree/master/public/data#data-on-covid-19-coronavirus-by-our-world-in-data">GitHub site</a>.</p>
<ul>
<li>Example</li>
</ul>
<div class="sourceCode" id="cb697"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/owidR/man/owid_covid.html">owid_covid</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb698"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="va">covid</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 256,343</span></span>
<span><span class="co">#&gt; Columns: 67</span></span>
<span><span class="co">#&gt; $ iso_code                                   &lt;chr&gt; "AFG", …</span></span>
<span><span class="co">#&gt; $ continent                                  &lt;chr&gt; "Asia",…</span></span>
<span><span class="co">#&gt; $ location                                   &lt;chr&gt; "Afghan…</span></span>
<span><span class="co">#&gt; $ date                                       &lt;date&gt; 2020-0…</span></span>
<span><span class="co">#&gt; $ total_cases                                &lt;dbl&gt; 5, 5, 5…</span></span>
<span><span class="co">#&gt; $ new_cases                                  &lt;dbl&gt; 5, 0, 0…</span></span>
<span><span class="co">#&gt; $ new_cases_smoothed                         &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ total_deaths                               &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ new_deaths                                 &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ new_deaths_smoothed                        &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ total_cases_per_million                    &lt;dbl&gt; 0.122, …</span></span>
<span><span class="co">#&gt; $ new_cases_per_million                      &lt;dbl&gt; 0.122, …</span></span>
<span><span class="co">#&gt; $ new_cases_smoothed_per_million             &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ total_deaths_per_million                   &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ new_deaths_per_million                     &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ new_deaths_smoothed_per_million            &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ reproduction_rate                          &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ icu_patients                               &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ icu_patients_per_million                   &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ hosp_patients                              &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ hosp_patients_per_million                  &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ weekly_icu_admissions                      &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ weekly_icu_admissions_per_million          &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ weekly_hosp_admissions                     &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ weekly_hosp_admissions_per_million         &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ total_tests                                &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ new_tests                                  &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ total_tests_per_thousand                   &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ new_tests_per_thousand                     &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ new_tests_smoothed                         &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ new_tests_smoothed_per_thousand            &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ positive_rate                              &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ tests_per_case                             &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ tests_units                                &lt;chr&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ total_vaccinations                         &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ people_vaccinated                          &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ people_fully_vaccinated                    &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ total_boosters                             &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ new_vaccinations                           &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ new_vaccinations_smoothed                  &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ total_vaccinations_per_hundred             &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ people_vaccinated_per_hundred              &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ people_fully_vaccinated_per_hundred        &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ total_boosters_per_hundred                 &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ new_vaccinations_smoothed_per_million      &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ new_people_vaccinated_smoothed             &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ new_people_vaccinated_smoothed_per_hundred &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ stringency_index                           &lt;dbl&gt; 8.33, 8…</span></span>
<span><span class="co">#&gt; $ population_density                         &lt;dbl&gt; 54.422,…</span></span>
<span><span class="co">#&gt; $ median_age                                 &lt;dbl&gt; 18.6, 1…</span></span>
<span><span class="co">#&gt; $ aged_65_older                              &lt;dbl&gt; 2.581, …</span></span>
<span><span class="co">#&gt; $ aged_70_older                              &lt;dbl&gt; 1.337, …</span></span>
<span><span class="co">#&gt; $ gdp_per_capita                             &lt;dbl&gt; 1803.98…</span></span>
<span><span class="co">#&gt; $ extreme_poverty                            &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ cardiovasc_death_rate                      &lt;dbl&gt; 597.029…</span></span>
<span><span class="co">#&gt; $ diabetes_prevalence                        &lt;dbl&gt; 9.59, 9…</span></span>
<span><span class="co">#&gt; $ female_smokers                             &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ male_smokers                               &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ handwashing_facilities                     &lt;dbl&gt; 37.746,…</span></span>
<span><span class="co">#&gt; $ hospital_beds_per_thousand                 &lt;dbl&gt; 0.5, 0.…</span></span>
<span><span class="co">#&gt; $ life_expectancy                            &lt;dbl&gt; 64.83, …</span></span>
<span><span class="co">#&gt; $ human_development_index                    &lt;dbl&gt; 0.511, …</span></span>
<span><span class="co">#&gt; $ population                                 &lt;dbl&gt; 4112877…</span></span>
<span><span class="co">#&gt; $ excess_mortality_cumulative_absolute       &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ excess_mortality_cumulative                &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ excess_mortality                           &lt;dbl&gt; NA, NA,…</span></span>
<span><span class="co">#&gt; $ excess_mortality_cumulative_per_million    &lt;dbl&gt; NA, NA,…</span></span></code></pre></div>
<div class="sourceCode" id="cb699"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tdpm</span> <span class="op">&lt;-</span> <span class="va">covid</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">total_deaths_per_million</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">location</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>total_deaths_per_million <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">total_deaths_per_million</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">total_deaths_per_million</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">DT</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/DT/man/datatable.html">datatable</a></span><span class="op">(</span><span class="va">tdpm</span><span class="op">)</span></span></code></pre></div>
<div class="datatables html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-c0217c4189ffab753588" style="width:100%;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-c0217c4189ffab753588">{"x":{"filter":"none","vertical":false,"data":[["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19","20","21","22","23","24","25","26","27","28","29","30","31","32","33","34","35","36","37","38","39","40","41","42","43","44","45","46","47","48","49","50","51","52","53","54","55","56","57","58","59","60","61","62","63","64","65","66","67","68","69","70","71","72","73","74","75","76","77","78","79","80","81","82","83","84","85","86","87","88","89","90","91","92","93","94","95","96","97","98","99","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226"],["Peru","Bulgaria","Bosnia and Herzegovina","Hungary","North Macedonia","Georgia","Montenegro","Croatia","Czechia","Slovakia","Moldova","San Marino","Lithuania","Romania","Gibraltar","Latvia","Greece","Slovenia","United States","Chile","Brazil","United Kingdom","Italy","Armenia","South America","Ukraine","Poland","Paraguay","Belgium","Argentina","Trinidad and Tobago","Colombia","Europe","European Union","Russia","Aruba","North America","Mexico","Serbia","Portugal","Spain","Bermuda","Austria","France","Tunisia","High income","Saint Lucia","Suriname","Liechtenstein","Sweden","Uruguay","Estonia","French Polynesia","Andorra","British Virgin Islands","Barbados","Bahamas","Germany","Ecuador","Lebanon","Panama","Grenada","Luxembourg","Monaco","Bolivia","Montserrat","Kosovo","Hong Kong","Costa Rica","South Africa","Ireland","Belize","Iran","Switzerland","Seychelles","Guyana","Namibia","Finland","Curacao","Antigua and Barbuda","Malta","Bonaire Sint Eustatius and Saba","Cyprus","Denmark","Isle of Man","Canada","Netherlands","Israel","Albania","Jordan","Jamaica","Turkey","Eswatini","Saint Vincent and the Grenadines","Guatemala","Botswana","Malaysia","Palestine","New Caledonia","Honduras","Bahrain","Upper middle income","Dominica","Oman","Kazakhstan","Azerbaijan","Saint Kitts and Nevis","Fiji","Norway","Libya","World","Turks and Caicos Islands","Mauritius","Sri Lanka","Cuba","Anguilla","Belarus","Australia","Taiwan","Cape Verde","El Salvador","South Korea","Iceland","Mongolia","Wallis and Futuna","Kuwait","Maldives","Indonesia","Philippines","Iraq","Japan","Oceania","Cayman Islands","Faeroe Islands","Micronesia (country)","Brunei","Palau","New Zealand","Thailand","Kyrgyzstan","Vietnam","Morocco","Marshall Islands","Nepal","Lower middle income","Dominican Republic","India","Greenland","Myanmar","Zimbabwe","Asia","Saint Pierre and Miquelon","Sao Tome and Principe","Lesotho","Singapore","Saudi Arabia","Qatar","United Arab Emirates","Egypt","Solomon Islands","Mauritania","Venezuela","Zambia","Comoros","Afghanistan","Cambodia","Africa","Macao","Bangladesh","Djibouti","Algeria","Syria","Malawi","Gambia","Kiribati","Samoa","Pakistan","Gabon","Tonga","Cook Islands","Senegal","Equatorial Guinea","Sudan","Rwanda","Kenya","Timor","Laos","Guinea-Bissau","Nauru","Somalia","Uganda","Haiti","Cameroon","Mozambique","Papua New Guinea","Congo","Low income","Yemen","Ethiopia","China","Liberia","Angola","Madagascar","Uzbekistan","Ghana","Vanuatu","Nicaragua","Guinea","Mali","Togo","Cote d'Ivoire","Eritrea","Bhutan","Central African Republic","Burkina Faso","Democratic Republic of Congo","Sierra Leone","Nigeria","Tanzania","South Sudan","Tajikistan","Benin","Niger","Chad","Burundi","North Korea"],[6438.521,5631.562,5028.869,4886.677,4604.973,4524.374,4461.936,4444.019,4034.5,3716.34,3653.231,3621.253,3474.836,3439.548,3396.885,3373.402,3348.974,3331.851,3293.77,3261.674,3240.219,3224.832,3172.087,3135.799,3085.633,2999.591,2979.817,2924.457,2884.027,2866.097,2825.525,2742.721,2719.942,2686.506,2677.632,2648.907,2626.776,2608.386,2580.351,2536.497,2496.119,2460.791,2435.563,2427.057,2372.266,2281.753,2273.839,2265.204,2261.466,2233.598,2224.497,2201.251,2118.893,2066.556,2042.64,2034.469,2031.762,1999.044,1997.944,1967.487,1950.514,1897.034,1871.523,1836.069,1828.681,1812.826,1797.864,1780.377,1772.108,1712.946,1712.486,1697.571,1634.942,1629.66,1605.451,1602.519,1592.506,1592.024,1574.49,1556.968,1548.867,1515.6,1440.837,1392.152,1372.229,1323.752,1314.107,1294.105,1265.165,1251.299,1233.65,1189.249,1184.175,1183.159,1128.62,1093.411,1088.625,1087.222,1082.912,1064.617,1048.744,1031.134,1017.07,1011.297,982.885,974.795,964.745,949.698,945.288,944.902,859.09,831.037,803.4,770.79,760.779,755.81,746.516,728.223,707.057,696.268,667.572,650.323,638.236,628.536,603.656,602.031,593.74,583.863,570.306,570.274,566.293,541.799,538.401,527.138,507.979,501.111,497.678,482.519,472.572,451.089,439.835,435.048,408.723,393.484,392.014,390.424,374.513,371.721,359.731,346.741,342.841,339.847,338.621,313.554,305.48,263.315,254.533,248.699,223.506,211.247,210.509,206.737,202.321,192.404,191.982,182.254,180.57,174.056,172,168.622,153.241,143.004,141.924,137.473,137.156,130.402,129.927,128.087,121.647,117.426,114.804,109.259,106.839,106.557,105.28,102.885,100.671,83.587,78.796,77.34,76.826,74.234,70.393,67.851,66.058,64.987,64.977,64.072,61.371,61.343,55.444,54.258,47.954,47.274,43.673,42.847,35.26,33.696,32.885,32.773,29.58,27.958,26.839,20.254,17.465,14.776,14.641,14.437,12.916,12.645,12.559,12.207,12.019,10.946,2.948,0.23]],"container":"<table class=\"display\">\n  <thead>\n    <tr>\n      <th> <\/th>\n      <th>location<\/th>\n      <th>total_deaths_per_million<\/th>\n    <\/tr>\n  <\/thead>\n<\/table>","options":{"columnDefs":[{"className":"dt-right","targets":2},{"orderable":false,"targets":0}],"order":[],"autoWidth":false,"orderClasses":false}},"evals":[],"jsHooks":[]}</script><div class="sourceCode" id="cb700"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">total_deaths_per_million</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">location</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>total_deaths_per_million <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">total_deaths_per_million</span><span class="op">)</span>, .groups <span class="op">=</span> <span class="st">"drop"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">total_deaths_per_million</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">total_deaths_per_million</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html">geom_histogram</a></span><span class="op">(</span>bins <span class="op">=</span> <span class="fl">30</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="42-covid19_files/figure-html/unnamed-chunk-6-1.png" width="672"></div>
<div class="sourceCode" id="cb701"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">location</span> <span class="op">==</span> <span class="st">"Japan"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">date</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 1,115 × 67</span></span>
<span><span class="co">#&gt;    iso_code continent location date       total_ca…¹ new_c…²</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;    &lt;chr&gt;     &lt;chr&gt;    &lt;date&gt;          &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 JPN      Asia      Japan    2023-02-09   32901767   32969</span></span>
<span><span class="co">#&gt;  2 JPN      Asia      Japan    2023-02-08   32868798   41584</span></span>
<span><span class="co">#&gt;  3 JPN      Asia      Japan    2023-02-07   32827214   44755</span></span>
<span><span class="co">#&gt;  4 JPN      Asia      Japan    2023-02-06   32782459   15612</span></span>
<span><span class="co">#&gt;  5 JPN      Asia      Japan    2023-02-05   32766847   32459</span></span>
<span><span class="co">#&gt;  6 JPN      Asia      Japan    2023-02-04   32734388   38581</span></span>
<span><span class="co">#&gt;  7 JPN      Asia      Japan    2023-02-03   32695807   39924</span></span>
<span><span class="co">#&gt;  8 JPN      Asia      Japan    2023-02-02   32655883   45299</span></span>
<span><span class="co">#&gt;  9 JPN      Asia      Japan    2023-02-01   32610584   55537</span></span>
<span><span class="co">#&gt; 10 JPN      Asia      Japan    2023-01-31   32555047   47118</span></span>
<span><span class="co">#&gt; # … with 1,105 more rows, 61 more variables:</span></span>
<span><span class="co">#&gt; #   new_cases_smoothed &lt;dbl&gt;, total_deaths &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   new_deaths &lt;dbl&gt;, new_deaths_smoothed &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   total_cases_per_million &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   new_cases_per_million &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   new_cases_smoothed_per_million &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   total_deaths_per_million &lt;dbl&gt;, …</span></span></code></pre></div>
<div class="sourceCode" id="cb702"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">covid</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">location</span> <span class="op">==</span> <span class="st">"Japan"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">new_deaths_smoothed</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">date</span>, <span class="va">new_deaths_smoothed</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"Covid-19 Death/Day in Japan as of "</span>, <span class="fu"><a href="https://rdrr.io/r/base/Sys.time.html">Sys.Date</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="42-covid19_files/figure-html/unnamed-chunk-8-1.png" width="672"></div>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="histdata.html"><span class="header-section-number">A</span> HistData</a></div>
<div class="next"><a href="bookdown.html"><span class="header-section-number">C</span> Bookdown</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#covid19"><span class="header-section-number">B</span> Covid 19</a></li>
<li><a class="nav-link" href="#introduction-1"><span class="header-section-number">B.1</span> Introduction</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://icu-hsuzuki.github.io/da4r2022//blob/master/42-covid19.Rmd">View source <i class="fab fa-gitlab"></i></a></li>
          <li><a id="book-edit" href="https://icu-hsuzuki.github.io/da4r2022//edit/master/42-covid19.Rmd">Edit this page <i class="fab fa-gitlab"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Data Analysis for Researchers AY2022</strong>" was written by Hiroshi Suzuki. It was last built on 2023-02-11.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
