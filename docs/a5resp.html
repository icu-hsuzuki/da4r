<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 15 Assignment Five | Data Analysis for Researchers AY2022</title>
<meta name="author" content="Hiroshi Suzuki">
<meta name="description" content="Assignment Five: The Week Six Assignment Choose a public data. Clearly state how you obtained the data. Even if you are able to give the URL to download the data, explain the steps you reached and...">
<meta name="generator" content="bookdown 0.31 with bs4_book()">
<meta property="og:title" content="Chapter 15 Assignment Five | Data Analysis for Researchers AY2022">
<meta property="og:type" content="book">
<meta property="og:url" content="https://icu-hsuzuki.github.io/da4r2022/a5resp.html">
<meta property="og:description" content="Assignment Five: The Week Six Assignment Choose a public data. Clearly state how you obtained the data. Even if you are able to give the URL to download the data, explain the steps you reached and...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 15 Assignment Five | Data Analysis for Researchers AY2022">
<meta name="twitter:description" content="Assignment Five: The Week Six Assignment Choose a public data. Clearly state how you obtained the data. Even if you are able to give the URL to download the data, explain the steps you reached and...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.2/transition.js"></script><script src="libs/bs3compat-0.4.2/tabs.js"></script><script src="libs/bs3compat-0.4.2/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/htmlwidgets-1.6.1/htmlwidgets.js"></script><link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet">
<script src="libs/datatables-binding-0.26/datatables.js"></script><link href="libs/dt-core-1.12.1/css/jquery.dataTables.min.css" rel="stylesheet">
<link href="libs/dt-core-1.12.1/css/jquery.dataTables.extra.css" rel="stylesheet">
<script src="libs/dt-core-1.12.1/js/jquery.dataTables.min.js"></script><link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Data Analysis for Researchers AY2022</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">About</a></li>
<li class="book-part">PART I. INTRODUCTION</li>
<li><a class="" href="intro.html"><span class="header-section-number">1</span> About the Course</a></li>
<li><a class="" href="randrstudio.html"><span class="header-section-number">2</span> R and R Studio</a></li>
<li><a class="" href="tidyverse.html"><span class="header-section-number">3</span> tidyverse</a></li>
<li><a class="" href="rmarkdown.html"><span class="header-section-number">4</span> R Markdown</a></li>
<li><a class="" href="dplyr.html"><span class="header-section-number">5</span> dplyr</a></li>
<li><a class="" href="a2resp.html"><span class="header-section-number">6</span> Assignment Two and Responses</a></li>
<li><a class="" href="wdidata.html"><span class="header-section-number">7</span> WDI</a></li>
<li><a class="" href="ggplot2.html"><span class="header-section-number">8</span> ggplot2</a></li>
<li><a class="" href="a3resp.html"><span class="header-section-number">9</span> Assignment Three</a></li>
<li><a class="" href="tidy.html"><span class="header-section-number">10</span> tidyr</a></li>
<li><a class="" href="workflow.html"><span class="header-section-number">11</span> Workflow</a></li>
<li><a class="" href="a4resp.html"><span class="header-section-number">12</span> Assignment Four</a></li>
<li><a class="" href="model.html"><span class="header-section-number">13</span> Linear Model</a></li>
<li><a class="" href="roundups.html"><span class="header-section-number">14</span> Roudups</a></li>
<li><a class="active" href="a5resp.html"><span class="header-section-number">15</span> Assignment Five</a></li>
<li class="book-part">PART II EDA BASICS</li>
<li><a class="" href="eda.html"><span class="header-section-number">16</span> Exploratory Data analysis</a></li>
<li><a class="" href="importing.html"><span class="header-section-number">17</span> Importing</a></li>
<li><a class="" href="transforming.html"><span class="header-section-number">18</span> Transforming</a></li>
<li><a class="" href="tidying.html"><span class="header-section-number">19</span> Tidying</a></li>
<li><a class="" href="visualizing.html"><span class="header-section-number">20</span> Visualizing</a></li>
<li><a class="" href="modeling.html"><span class="header-section-number">21</span> Modeling</a></li>
<li><a class="" href="communicating.html"><span class="header-section-number">22</span> Communicating</a></li>
<li class="book-part">PART III OPEN PUBLIC DATA</li>
<li><a class="" href="worldbank.html"><span class="header-section-number">23</span> World Bank</a></li>
<li><a class="" href="owid.html"><span class="header-section-number">24</span> Our World in Data</a></li>
<li><a class="" href="oecd.html"><span class="header-section-number">25</span> OECD</a></li>
<li><a class="" href="undata.html"><span class="header-section-number">26</span> UN Data</a></li>
<li><a class="" href="wir.html"><span class="header-section-number">27</span> World Inequality Report</a></li>
<li class="book-part">APPENDIX</li>
<li><a class="" href="histdata.html"><span class="header-section-number">A</span> HistData</a></li>
<li><a class="" href="covid19.html"><span class="header-section-number">B</span> Covid 19</a></li>
<li><a class="" href="bookdown.html"><span class="header-section-number">C</span> Bookdown</a></li>
<li><a class="" href="template.html"><span class="header-section-number">D</span> Template</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://icu-hsuzuki.github.io/da4r2022/">View book source <i class="fab fa-gitlab"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="a5resp" class="section level1" number="15">
<h1>
<span class="header-section-number">15</span> Assignment Five<a class="anchor" aria-label="anchor" href="#a5resp"><i class="fas fa-link"></i></a>
</h1>
<div id="assignment-five-the-week-six-assignment" class="section level2 unnumbered">
<h2>Assignment Five: The Week Six Assignment<a class="anchor" aria-label="anchor" href="#assignment-five-the-week-six-assignment"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li>Choose a public data. Clearly state how you obtained the data. Even if you are able to give the URL to download the data, explain the steps you reached and obtained the data.</li>
<li>Create an R Notebook of a Data Analysis containing the following and submit the rendered HTML file (eg. <code>a5_123456.nb.html</code> by replacing 123456 with your ID), and a PDF (or MS Word File).
<ol style="list-style-type: decimal">
<li>create an R Notebook using the R Notebook Template in Moodle, save as <code>a3_123456.Rmd</code>,</li>
<li>write your name and ID and the contents,</li>
<li>run each code block,</li>
<li>preview to create <code>a5_123456.nb.html</code>,</li>
<li>render (or knit) PDF, or Word (and then PDF)</li>
<li>submit <code>a5_123456.nb.html</code> and PDF (or Word) to Moodle.</li>
</ol>
</li>
</ul>
<ol style="list-style-type: decimal">
<li>
<p>Choose a data with at least two numerical variables. One of them can be the year.</p>
<ul>
<li>Information of the data</li>
<li>Explain why you chose the data</li>
<li>List questions you want to study</li>
</ul>
</li>
<li>
<p>Explore the data using visualization using <code>ggplot2</code></p>
<ul>
<li>Create various charts, and write observed comments</li>
<li>Apply a (linear regression) model, and draw a regression line to at least one chart, and write your conclusion based on the model using the slope value and R squared (and/or adjusted R squared).</li>
</ul>
</li>
<li><p>Observations based on your data visualization, and difficulties and questions encountered if any.</p></li>
</ol>
<p><strong>Due:</strong> 2023-01-30 23:59:00. Submit your R Notebook file, and a PDF file (or a MS Word file) in Moodle (The Fifth Assignment). Due on Monday!</p>
</div>
<div id="set-up-5" class="section level2" number="15.1">
<h2>
<span class="header-section-number">15.1</span> Set up<a class="anchor" aria-label="anchor" href="#set-up-5"><i class="fas fa-link"></i></a>
</h2>
<p>It is better to use the following, because you can search by error message when you get an error. Error messages are important. If you get used to it, you can correct most of the errors. You can use the information given by <code>message</code> as well.</p>
<div class="sourceCode" id="cb476"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html">Sys.setenv</a></span><span class="op">(</span>LANG <span class="op">=</span> <span class="st">"en"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb477"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; ── Attaching packages ─────────────────── tidyverse 1.3.2 ──</span></span>
<span><span class="co">#&gt; ✔ ggplot2 3.4.0      ✔ purrr   1.0.0 </span></span>
<span><span class="co">#&gt; ✔ tibble  3.1.8      ✔ dplyr   1.0.10</span></span>
<span><span class="co">#&gt; ✔ tidyr   1.2.1      ✔ stringr 1.5.0 </span></span>
<span><span class="co">#&gt; ✔ readr   2.1.3      ✔ forcats 0.5.2 </span></span>
<span><span class="co">#&gt; ── Conflicts ────────────────────── tidyverse_conflicts() ──</span></span>
<span><span class="co">#&gt; ✖ dplyr::filter() masks stats::filter()</span></span>
<span><span class="co">#&gt; ✖ dplyr::lag()    masks stats::lag()</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://readxl.tidyverse.org">readxl</a></span><span class="op">)</span> <span class="co"># for excel files</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://vincentarelbundock.github.io/WDI/">WDI</a></span><span class="op">)</span></span></code></pre></div>
<div id="world-development-indicator---wdi-1" class="section level3" number="15.1.1">
<h3>
<span class="header-section-number">15.1.1</span> World Development Indicator - WDI<a class="anchor" aria-label="anchor" href="#world-development-indicator---wdi-1"><i class="fas fa-link"></i></a>
</h3>
<p>The following is useful when you use WDI.</p>
<div class="sourceCode" id="cb478"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wdi_cache</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://vincentarelbundock.github.io/WDI/reference/WDIcache.html">WDIcache</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div id="creating-a-vector-with-iso2-codes" class="section level4" number="15.1.1.1">
<h4>
<span class="header-section-number">15.1.1.1</span> Creating a vector with <code>iso2</code> codes<a class="anchor" aria-label="anchor" href="#creating-a-vector-with-iso2-codes"><i class="fas fa-link"></i></a>
</h4>
<p>It is convenient to have a vector with <code>iso2c</code> codes when you import data from WDI.</p>
<div class="sourceCode" id="cb479"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">asean</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Brunei Darussalam"</span>, <span class="st">"Cambodia"</span>, <span class="st">"Lao PDR"</span>, <span class="st">"Myanmar"</span>, </span>
<span>           <span class="st">"Philippines"</span>, <span class="st">"Indonesia"</span>, <span class="st">"Malaysia"</span>, <span class="st">"Singapore"</span><span class="op">)</span></span>
<span><span class="va">brics</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Brazil"</span>, <span class="st">"Russian Federation"</span>, <span class="st">"India"</span>, <span class="st">"China"</span><span class="op">)</span></span>
<span><span class="va">g7</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Canada"</span>, <span class="st">"France"</span>, <span class="st">"Italy"</span>, <span class="st">"Japan"</span>, <span class="st">"Germany"</span>, <span class="st">"United Kingdom"</span>, <span class="st">"United States"</span><span class="op">)</span></span>
<span><span class="va">income_levels</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"High income"</span>,<span class="st">"Upper middle income"</span>, <span class="st">"Middle income"</span>, </span>
<span>                   <span class="st">"Lower middle income"</span>,<span class="st">"Low income"</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb480"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ASEAN</span> <span class="op">&lt;-</span> <span class="va">wdi_cache</span><span class="op">$</span><span class="va">country</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">country</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">asean</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="va">iso2c</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">ASEAN</span></span>
<span><span class="co">#&gt; [1] "BN" "ID" "KH" "LA" "MM" "MY" "PH" "SG"</span></span></code></pre></div>
<div class="sourceCode" id="cb481"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">BRICs</span> <span class="op">&lt;-</span> <span class="va">wdi_cache</span><span class="op">$</span><span class="va">country</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">country</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">brics</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="va">iso2c</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">BRICs</span></span>
<span><span class="co">#&gt; [1] "BR" "CN" "IN" "RU"</span></span></code></pre></div>
<div class="sourceCode" id="cb482"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">G7</span> <span class="op">&lt;-</span> <span class="va">wdi_cache</span><span class="op">$</span><span class="va">country</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">country</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">g7</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="va">iso2c</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">G7</span></span>
<span><span class="co">#&gt; [1] "CA" "DE" "FR" "GB" "IT" "JP" "US"</span></span></code></pre></div>
<div class="sourceCode" id="cb483"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">INCOME_LEVELS</span> <span class="op">&lt;-</span> <span class="va">wdi_cache</span><span class="op">$</span><span class="va">country</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">country</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">income_levels</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="va">iso2c</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">INCOME_LEVELS</span></span>
<span><span class="co">#&gt; [1] "XD" "XM" "XN" "XP" "XT"</span></span></code></pre></div>
<ul>
<li>In the following code chunk, we import only the G7 countries.</li>
</ul>
<div class="sourceCode" id="cb484"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wdi_cache</span><span class="op">$</span><span class="va">series</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">indicator</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"SG.GEN.PARL.ZS"</span>,<span class="st">"SI.POV.GINI"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;        indicator</span></span>
<span><span class="co">#&gt; 1 SG.GEN.PARL.ZS</span></span>
<span><span class="co">#&gt; 2    SI.POV.GINI</span></span>
<span><span class="co">#&gt;                                                            name</span></span>
<span><span class="co">#&gt; 1 Proportion of seats held by women in national parliaments (%)</span></span>
<span><span class="co">#&gt; 2                                                    Gini index</span></span>
<span><span class="co">#&gt;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            description</span></span>
<span><span class="co">#&gt; 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Women in parliaments are the percentage of parliamentary seats in a single or lower chamber held by women.</span></span>
<span><span class="co">#&gt; 2 Gini index measures the extent to which the distribution of income (or, in some cases, consumption expenditure) among individuals or households within an economy deviates from a perfectly equal distribution. A Lorenz curve plots the cumulative percentages of total income received against the cumulative number of recipients, starting with the poorest individual or household. The Gini index measures the area between the Lorenz curve and a hypothetical line of absolute equality, expressed as a percentage of the maximum area under the line. Thus a Gini index of 0 represents perfect equality, while an index of 100 implies perfect inequality.</span></span>
<span><span class="co">#&gt;                 sourceDatabase</span></span>
<span><span class="co">#&gt; 1 World Development Indicators</span></span>
<span><span class="co">#&gt; 2 World Development Indicators</span></span>
<span><span class="co">#&gt;                                                                                                                                                                                                                                                                                                                               sourceOrganization</span></span>
<span><span class="co">#&gt; 1                                                                                                                                                                                                                                       Inter-Parliamentary Union (IPU) (www.ipu.org).  For the year of 1998, the data is as of August 10, 1998.</span></span>
<span><span class="co">#&gt; 2 World Bank, Poverty and Inequality Platform. Data are based on primary household survey data obtained from government statistical agencies and World Bank country departments. Data for high-income economies are mostly from the Luxembourg Income Study database. For more information and methodology, please see http://pip.worldbank.org.</span></span></code></pre></div>
<div class="sourceCode" id="cb485"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://vincentarelbundock.github.io/WDI/reference/WDI.html">WDI</a></span><span class="op">(</span>country <span class="op">=</span> <span class="va">G7</span>, </span>
<span>           indicator<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>parl <span class="op">=</span> <span class="st">"SG.GEN.PARL.ZS"</span>, gini <span class="op">=</span> <span class="st">"SI.POV.GINI"</span><span class="op">)</span>,</span>
<span>           extra<span class="op">=</span><span class="cn">TRUE</span>, cache<span class="op">=</span><span class="va">wdi_cache</span><span class="op">)</span></span>
<span><span class="va">df1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span>  <span class="co"># for R Notebook use this line, for PDF delete by adding #</span></span>
<span><span class="co">#&gt;    country iso2c iso3c year status lastupdated parl gini</span></span>
<span><span class="co">#&gt; 1   Canada    CA   CAN 1960         2022-12-22   NA   NA</span></span>
<span><span class="co">#&gt; 2   Canada    CA   CAN 1961         2022-12-22   NA   NA</span></span>
<span><span class="co">#&gt; 3   Canada    CA   CAN 1962         2022-12-22   NA   NA</span></span>
<span><span class="co">#&gt; 4   Canada    CA   CAN 1963         2022-12-22   NA   NA</span></span>
<span><span class="co">#&gt; 5   Canada    CA   CAN 1964         2022-12-22   NA   NA</span></span>
<span><span class="co">#&gt; 6   Canada    CA   CAN 1965         2022-12-22   NA   NA</span></span>
<span><span class="co">#&gt; 7   Canada    CA   CAN 1966         2022-12-22   NA   NA</span></span>
<span><span class="co">#&gt; 8   Canada    CA   CAN 1967         2022-12-22   NA   NA</span></span>
<span><span class="co">#&gt; 9   Canada    CA   CAN 1968         2022-12-22   NA   NA</span></span>
<span><span class="co">#&gt; 10  Canada    CA   CAN 1969         2022-12-22   NA   NA</span></span>
<span><span class="co">#&gt;           region capital longitude latitude      income</span></span>
<span><span class="co">#&gt; 1  North America  Ottawa  -75.6919  45.4215 High income</span></span>
<span><span class="co">#&gt; 2  North America  Ottawa  -75.6919  45.4215 High income</span></span>
<span><span class="co">#&gt; 3  North America  Ottawa  -75.6919  45.4215 High income</span></span>
<span><span class="co">#&gt; 4  North America  Ottawa  -75.6919  45.4215 High income</span></span>
<span><span class="co">#&gt; 5  North America  Ottawa  -75.6919  45.4215 High income</span></span>
<span><span class="co">#&gt; 6  North America  Ottawa  -75.6919  45.4215 High income</span></span>
<span><span class="co">#&gt; 7  North America  Ottawa  -75.6919  45.4215 High income</span></span>
<span><span class="co">#&gt; 8  North America  Ottawa  -75.6919  45.4215 High income</span></span>
<span><span class="co">#&gt; 9  North America  Ottawa  -75.6919  45.4215 High income</span></span>
<span><span class="co">#&gt; 10 North America  Ottawa  -75.6919  45.4215 High income</span></span>
<span><span class="co">#&gt;           lending</span></span>
<span><span class="co">#&gt; 1  Not classified</span></span>
<span><span class="co">#&gt; 2  Not classified</span></span>
<span><span class="co">#&gt; 3  Not classified</span></span>
<span><span class="co">#&gt; 4  Not classified</span></span>
<span><span class="co">#&gt; 5  Not classified</span></span>
<span><span class="co">#&gt; 6  Not classified</span></span>
<span><span class="co">#&gt; 7  Not classified</span></span>
<span><span class="co">#&gt; 8  Not classified</span></span>
<span><span class="co">#&gt; 9  Not classified</span></span>
<span><span class="co">#&gt; 10 Not classified</span></span></code></pre></div>
</div>
</div>
<div id="world-inequility-report---wir2022-1" class="section level3" number="15.1.2">
<h3>
<span class="header-section-number">15.1.2</span> World Inequility Report - WIR2022<a class="anchor" aria-label="anchor" href="#world-inequility-report---wir2022-1"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>World Inequality Report: <a href="https://wir2022.wid.world/" class="uri">https://wir2022.wid.world/</a>
</li>
<li>Executive Summary: <a href="https://wir2022.wid.world/executive-summary/" class="uri">https://wir2022.wid.world/executive-summary/</a>
</li>
<li>Methodology: <a href="https://wir2022.wid.world/methodology/" class="uri">https://wir2022.wid.world/methodology/</a>
</li>
<li>URL of Executive Summary Data: <a href="https://wir2022.wid.world/www-site/uploads/2022/03/WIR2022TablesFigures-Summary.xlsx" class="uri">https://wir2022.wid.world/www-site/uploads/2022/03/WIR2022TablesFigures-Summary.xlsx</a>
</li>
</ul>
<p>Please add <code>mode="wb"</code> (web binary). This should work better.</p>
<div class="sourceCode" id="cb486"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">url_summary</span> <span class="op">&lt;-</span> <span class="st">"https://wir2022.wid.world/www-site/uploads/2022/03/WIR2022TablesFigures-Summary.xlsx"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html">download.file</a></span><span class="op">(</span>url <span class="op">=</span> <span class="va">url_summary</span>, </span>
<span>              destfile <span class="op">=</span> <span class="st">"./data/WIR2022s.xlsx"</span>, </span>
<span>              mode <span class="op">=</span> <span class="st">"wb"</span><span class="op">)</span> </span></code></pre></div>
<p>If you get an error, download the file directory from the methodology site into your computer, then open it with Excel and save it in the data folder of your R Studio project. Then R studio can recognize it easily as an Excel data.</p>
<p>Generally, a text file such as a CSV file is easy to import, but a binary file is difficult to handle. It is because unless R can recognize its file type, for example, Excel or so, R cannot import the data.</p>
<div class="sourceCode" id="cb487"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://readxl.tidyverse.org/reference/excel_sheets.html">excel_sheets</a></span><span class="op">(</span><span class="st">"./data/WIR2022s.xlsx"</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "Index"     "F1"        "F2"        "F3"       </span></span>
<span><span class="co">#&gt;  [5] "F4"        "F5."       "F6"        "F7"       </span></span>
<span><span class="co">#&gt;  [9] "F8"        "F9"        "F10"       "F11"      </span></span>
<span><span class="co">#&gt; [13] "F12"       "F13"       "F14"       "F15"      </span></span>
<span><span class="co">#&gt; [17] "T1"        "data-F1"   "data-F2"   "data-F3"  </span></span>
<span><span class="co">#&gt; [21] "data-F4"   "data-F5"   "data-F6"   "data-F7"  </span></span>
<span><span class="co">#&gt; [25] "data-F8"   "data-F9"   "data-F10"  "data-F11" </span></span>
<span><span class="co">#&gt; [29] "data-F12"  "data-F13." "data-F14." "data-F15"</span></span></code></pre></div>
</div>
</div>
<div id="general-comments-3" class="section level2" number="15.2">
<h2>
<span class="header-section-number">15.2</span> General Comments<a class="anchor" aria-label="anchor" href="#general-comments-3"><i class="fas fa-link"></i></a>
</h2>
<div id="create-a-pdf-or-word-file." class="section level3" number="15.2.1">
<h3>
<span class="header-section-number">15.2.1</span> Create a PDF or Word file.<a class="anchor" aria-label="anchor" href="#create-a-pdf-or-word-file."><i class="fas fa-link"></i></a>
</h3>
<p>A Notebook file is created by pressing the Preview button, and the outputs appear as is. However, making a file with another format, R runs all code chunks from the top. So if the object is not defined above the code used, the knit program stops with an error message. I recommend the following steps.</p>
<ol start="0" style="list-style-type: decimal">
<li><p>Create a PDF right after you create a new (R Notebook) file (using Template). By this step, you can check your ‘Knit to PDF’ process by <code>tinytex</code> is working well. Please let me know if you fail to create a PDF and cannot solve the problem. I will look at the setting of your PC in class.</p></li>
<li><p>Run all codes before you preview Notebook. You can use ‘Run All’, and ‘Run All Code Chunks Below’ under the ‘Run’ button if there is an incomplete code chunk.</p></li>
<li><p>Before you create a PDF or word, you need to correct all errors. But if you could not, add <code>eval = FALSE</code> as an option.</p></li>
</ol>
<div class="sourceCode" id="cb488"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb488-1"><a href="a5resp.html#cb488-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r eval=FALSE}</span></span>
<span id="cb488-2"><a href="a5resp.html#cb488-2" aria-hidden="true" tabindex="-1"></a><span class="in"># code chunk with errors</span></span>
<span id="cb488-3"><a href="a5resp.html#cb488-3" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>You can add a similar option from the gear mark at the top right in the code chunk. Select show nothing (don’t run code); it adds <code>{r eval = FALSE, include = FALSE}</code>, and the code chunk itself is skipped.</p>
<ol start="3" style="list-style-type: decimal">
<li>Rerun all. If you can reach the end of the file without having an error, ‘Knit to PDF’ or ‘Knit to Word’.</li>
</ol>
<p>Creating a Word file is similar, and should be more accessible.</p>
<p>If you fail to create a PDF using <code>Knit to PDF</code> or <code>Knit to Word,</code> the alternative is to open the notebook wile with nb.html at the end in your web browser, such as Google Chrome, Edge, or Safari, and use the functionality of printing to PDF of your browser.</p>
<div id="other-code-chunk-options" class="section level4" number="15.2.1.1">
<h4>
<span class="header-section-number">15.2.1.1</span> Other Code Chunk Options<a class="anchor" aria-label="anchor" href="#other-code-chunk-options"><i class="fas fa-link"></i></a>
</h4>
<p>Please review EDA5, and try options under the gear mark at the top right of each code chunk. I will add two useful options, I use often</p>
<ol style="list-style-type: decimal">
<li>
<code>cash = TRUE</code> option. Downloading data and accessing to the internet takes time, and may cause trouble for the hosting site. With this option, you can avoid it, and shorten the compilation time to render. I always add this option to <code><a href="https://vincentarelbundock.github.io/WDI/reference/WDI.html">WDI()</a></code>. As for <code><a href="https://vincentarelbundock.github.io/WDI/reference/WDIsearch.html">WDIsearch()</a></code>, if you use <code>cache = wdi_cache</code>, you do not need to add this option. It is another benefit to use <code>cache = wdi_cache</code>.</li>
</ol>
<div class="sourceCode" id="cb489"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb489-1"><a href="a5resp.html#cb489-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r cash = TRUE}</span></span>
<span id="cb489-2"><a href="a5resp.html#cb489-2" aria-hidden="true" tabindex="-1"></a><span class="in"># download from the internet</span></span>
<span id="cb489-3"><a href="a5resp.html#cb489-3" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>
<code>echo = FALSE</code> option. When you create a PDF with a limit of pages, you do not want to include some code chunks. Then use this option. The output is included, but the code chunk is not. You can select this option by choosing ’Show output only` option.</li>
</ol>
</div>
<div id="reference" class="section level4" number="15.2.1.2">
<h4>
<span class="header-section-number">15.2.1.2</span> Reference<a class="anchor" aria-label="anchor" href="#reference"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li><a href="https://yihui.org/knitr/options/" class="uri">https://yihui.org/knitr/options/</a></li>
<li>Cheat Sheet. We distributed in class. You can download the same from Help: Cheatsheet at the top menu of R Stduio.</li>
</ul>
</div>
<div id="long-table" class="section level4" number="15.2.1.3">
<h4>
<span class="header-section-number">15.2.1.3</span> Long Table<a class="anchor" aria-label="anchor" href="#long-table"><i class="fas fa-link"></i></a>
</h4>
<p>If you do not want to include a long table in your PDF or Word, use the following.</p>
<div class="sourceCode" id="cb490"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wdi_cache</span><span class="op">$</span><span class="va">series</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt;               indicator</span></span>
<span><span class="co">#&gt; 1    1.0.HCount.1.90usd</span></span>
<span><span class="co">#&gt; 2     1.0.HCount.2.5usd</span></span>
<span><span class="co">#&gt; 3  1.0.HCount.Mid10to50</span></span>
<span><span class="co">#&gt; 4       1.0.HCount.Ofcl</span></span>
<span><span class="co">#&gt; 5   1.0.HCount.Poor4uds</span></span>
<span><span class="co">#&gt; 6   1.0.HCount.Vul4to10</span></span>
<span><span class="co">#&gt; 7      1.0.PGap.1.90usd</span></span>
<span><span class="co">#&gt; 8       1.0.PGap.2.5usd</span></span>
<span><span class="co">#&gt; 9     1.0.PGap.Poor4uds</span></span>
<span><span class="co">#&gt; 10     1.0.PSev.1.90usd</span></span>
<span><span class="co">#&gt;                                       name</span></span>
<span><span class="co">#&gt; 1          Poverty Headcount ($1.90 a day)</span></span>
<span><span class="co">#&gt; 2          Poverty Headcount ($2.50 a day)</span></span>
<span><span class="co">#&gt; 3    Middle Class ($10-50 a day) Headcount</span></span>
<span><span class="co">#&gt; 4  Official Moderate Poverty Rate-National</span></span>
<span><span class="co">#&gt; 5             Poverty Headcount ($4 a day)</span></span>
<span><span class="co">#&gt; 6       Vulnerable ($4-10 a day) Headcount</span></span>
<span><span class="co">#&gt; 7                Poverty Gap ($1.90 a day)</span></span>
<span><span class="co">#&gt; 8                Poverty Gap ($2.50 a day)</span></span>
<span><span class="co">#&gt; 9                   Poverty Gap ($4 a day)</span></span>
<span><span class="co">#&gt; 10          Poverty Severity ($1.90 a day)</span></span>
<span><span class="co">#&gt;                                                                                                                                                                                                                                                                    description</span></span>
<span><span class="co">#&gt; 1                                                                                                                                     The poverty headcount index measures the proportion of the population with daily per capita income (in 2011 PPP) below the poverty line.</span></span>
<span><span class="co">#&gt; 2                                                                                                                                     The poverty headcount index measures the proportion of the population with daily per capita income (in 2005 PPP) below the poverty line.</span></span>
<span><span class="co">#&gt; 3                                                                                                                                     The poverty headcount index measures the proportion of the population with daily per capita income (in 2005 PPP) below the poverty line.</span></span>
<span><span class="co">#&gt; 4                                                                                                                The poverty headcount index measures the proportion of the population with daily per capita income below the official poverty line developed by each country.</span></span>
<span><span class="co">#&gt; 5                                                                                                                                     The poverty headcount index measures the proportion of the population with daily per capita income (in 2005 PPP) below the poverty line.</span></span>
<span><span class="co">#&gt; 6                                                                                                                                     The poverty headcount index measures the proportion of the population with daily per capita income (in 2005 PPP) below the poverty line.</span></span>
<span><span class="co">#&gt; 7  The poverty gap captures the mean aggregate income or consumption shortfall relative to the poverty line across the entire population. It measures the total resources needed to bring all the poor to the level of the poverty line (averaged over the total population). </span></span>
<span><span class="co">#&gt; 8  The poverty gap captures the mean aggregate income or consumption shortfall relative to the poverty line across the entire population. It measures the total resources needed to bring all the poor to the level of the poverty line (averaged over the total population). </span></span>
<span><span class="co">#&gt; 9  The poverty gap captures the mean aggregate income or consumption shortfall relative to the poverty line across the entire population. It measures the total resources needed to bring all the poor to the level of the poverty line (averaged over the total population). </span></span>
<span><span class="co">#&gt; 10                                                                                                        The poverty severity index combines information on both poverty and inequality among the poor by averaging the squares of the poverty gaps relative the poverty line</span></span>
<span><span class="co">#&gt;    sourceDatabase</span></span>
<span><span class="co">#&gt; 1  LAC Equity Lab</span></span>
<span><span class="co">#&gt; 2  LAC Equity Lab</span></span>
<span><span class="co">#&gt; 3  LAC Equity Lab</span></span>
<span><span class="co">#&gt; 4  LAC Equity Lab</span></span>
<span><span class="co">#&gt; 5  LAC Equity Lab</span></span>
<span><span class="co">#&gt; 6  LAC Equity Lab</span></span>
<span><span class="co">#&gt; 7  LAC Equity Lab</span></span>
<span><span class="co">#&gt; 8  LAC Equity Lab</span></span>
<span><span class="co">#&gt; 9  LAC Equity Lab</span></span>
<span><span class="co">#&gt; 10 LAC Equity Lab</span></span>
<span><span class="co">#&gt;                                                       sourceOrganization</span></span>
<span><span class="co">#&gt; 1      LAC Equity Lab tabulations of SEDLAC (CEDLAS and the World Bank).</span></span>
<span><span class="co">#&gt; 2      LAC Equity Lab tabulations of SEDLAC (CEDLAS and the World Bank).</span></span>
<span><span class="co">#&gt; 3      LAC Equity Lab tabulations of SEDLAC (CEDLAS and the World Bank).</span></span>
<span><span class="co">#&gt; 4  LAC Equity Lab tabulations of data from National Statistical Offices.</span></span>
<span><span class="co">#&gt; 5      LAC Equity Lab tabulations of SEDLAC (CEDLAS and the World Bank).</span></span>
<span><span class="co">#&gt; 6      LAC Equity Lab tabulations of SEDLAC (CEDLAS and the World Bank).</span></span>
<span><span class="co">#&gt; 7      LAC Equity Lab tabulations of SEDLAC (CEDLAS and the World Bank).</span></span>
<span><span class="co">#&gt; 8      LAC Equity Lab tabulations of SEDLAC (CEDLAS and the World Bank).</span></span>
<span><span class="co">#&gt; 9      LAC Equity Lab tabulations of SEDLAC (CEDLAS and the World Bank).</span></span>
<span><span class="co">#&gt; 10     LAC Equity Lab tabulations of SEDLAC (CEDLAS and the World Bank).</span></span></code></pre></div>
<p>This will print only the first ten rows. The following R Basic code does almost the same.</p>
<div class="sourceCode" id="cb491"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">wdi_cache</span><span class="op">$</span><span class="va">country</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt;    iso3c iso2c                     country</span></span>
<span><span class="co">#&gt; 1    ABW    AW                       Aruba</span></span>
<span><span class="co">#&gt; 2    AFE    ZH Africa Eastern and Southern</span></span>
<span><span class="co">#&gt; 3    AFG    AF                 Afghanistan</span></span>
<span><span class="co">#&gt; 4    AFR    A9                      Africa</span></span>
<span><span class="co">#&gt; 5    AFW    ZI  Africa Western and Central</span></span>
<span><span class="co">#&gt; 6    AGO    AO                      Angola</span></span>
<span><span class="co">#&gt; 7    ALB    AL                     Albania</span></span>
<span><span class="co">#&gt; 8    AND    AD                     Andorra</span></span>
<span><span class="co">#&gt; 9    ARB    1A                  Arab World</span></span>
<span><span class="co">#&gt; 10   ARE    AE        United Arab Emirates</span></span>
<span><span class="co">#&gt;                        region          capital longitude</span></span>
<span><span class="co">#&gt; 1   Latin America &amp; Caribbean       Oranjestad  -70.0167</span></span>
<span><span class="co">#&gt; 2                  Aggregates                           </span></span>
<span><span class="co">#&gt; 3                  South Asia            Kabul   69.1761</span></span>
<span><span class="co">#&gt; 4                  Aggregates                           </span></span>
<span><span class="co">#&gt; 5                  Aggregates                           </span></span>
<span><span class="co">#&gt; 6          Sub-Saharan Africa           Luanda    13.242</span></span>
<span><span class="co">#&gt; 7       Europe &amp; Central Asia           Tirane   19.8172</span></span>
<span><span class="co">#&gt; 8       Europe &amp; Central Asia Andorra la Vella    1.5218</span></span>
<span><span class="co">#&gt; 9                  Aggregates                           </span></span>
<span><span class="co">#&gt; 10 Middle East &amp; North Africa        Abu Dhabi   54.3705</span></span>
<span><span class="co">#&gt;    latitude              income        lending</span></span>
<span><span class="co">#&gt; 1   12.5167         High income Not classified</span></span>
<span><span class="co">#&gt; 2                    Aggregates     Aggregates</span></span>
<span><span class="co">#&gt; 3   34.5228          Low income            IDA</span></span>
<span><span class="co">#&gt; 4                    Aggregates     Aggregates</span></span>
<span><span class="co">#&gt; 5                    Aggregates     Aggregates</span></span>
<span><span class="co">#&gt; 6  -8.81155 Lower middle income           IBRD</span></span>
<span><span class="co">#&gt; 7   41.3317 Upper middle income           IBRD</span></span>
<span><span class="co">#&gt; 8   42.5075         High income Not classified</span></span>
<span><span class="co">#&gt; 9                    Aggregates     Aggregates</span></span>
<span><span class="co">#&gt; 10  24.4764         High income Not classified</span></span></code></pre></div>
</div>
</div>
</div>
<div id="your-work-1" class="section level2" number="15.3">
<h2>
<span class="header-section-number">15.3</span> Your Work<a class="anchor" aria-label="anchor" href="#your-work-1"><i class="fas fa-link"></i></a>
</h2>
<p>Here is a list of data your classmates used for Assignment Five.</p>
<div id="world-development-indicators---wdi-1" class="section level3" number="15.3.1">
<h3>
<span class="header-section-number">15.3.1</span> World Development Indicators - WDI<a class="anchor" aria-label="anchor" href="#world-development-indicators---wdi-1"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>SP.POP.TOTL: Population, total</li>
<li>NY.GDP.MKTP.KD.ZG: GDP annual growth</li>
<li>NY.GDP.MKTP.CD: GDP (current US$)</li>
<li>NY.GDP.MKTP.KD.ZG: GDP growth (annual %)</li>
<li>NY.GDP.PCAP.KD: GDP per capita (constant 2015 US$)</li>
<li>NY.GNS.ICTR.ZS: Gross savings (% of GDP)</li>
<li>BX.TRF.PWKR.CD.DT: Personal remittances, received (current US$)</li>
<li>SI.POV.GINI: Gini index</li>
<li>SL.TLF.TOTL.FE.ZS: Labor force, female (% of total labor force)</li>
<li>SI.DST.10TH.10: Income share held by highest 10%</li>
<li>SL.UEM.TOTL.ZS: Unemployment, total (% of total labor force) (modeled ILO estimate)</li>
<li>BX.KLT.DINV.CD.WD: Foreign Direct Investment (FDI)</li>
<li>AG.LND.FRST.K2: Forest area (sq. km)</li>
<li>EN.ATM.CO2E.KT: CO2 emissions (kt)</li>
<li>EG.USE.ELEC.KH.PC:Electric power consumption (kWh per capita)</li>
<li>FB.ATM.TOTL.P5: Automated teller machines (ATMs) (per 100,000 adults)</li>
<li>SM.POP.REFG.OR: Refugee population by country or territory of origin</li>
<li>SG.GEN.PARL.ZS: Proportion of seats held by women in national parliaments (%)</li>
<li>SE.XPD.TOTL.GD.ZS: Government expenditure on education, total (% of GDP)</li>
<li>GB.XPD.RSDV.GD.ZS: Research and development expenditure (% of GDP)</li>
<li>SE.SEC.ENRR: School enrollment rate, secondary (% gross)</li>
<li>IP.PAT.RESD: Patent applications, residents</li>
<li>IP.IDS.RSCT: Industrial design applications, resident, by count</li>
<li>IP.JRN.ARTC.SC: Scientific and technical journal articles</li>
<li>BM.GSR.ROYL.CD: Intellectual Property Payments (BOP, Current US$)</li>
</ul>
</div>
<div id="worldbank-data" class="section level3" number="15.3.2">
<h3>
<span class="header-section-number">15.3.2</span> Worldbank Data<a class="anchor" aria-label="anchor" href="#worldbank-data"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>Climate Change Knowledge Portal: <a href="https://climateknowledgeportal.worldbank.org" class="uri">https://climateknowledgeportal.worldbank.org</a>
<ul>
<li>country summary</li>
</ul>
</li>
</ul>
</div>
<div id="oecd-data" class="section level3" number="15.3.3">
<h3>
<span class="header-section-number">15.3.3</span> OECD Data<a class="anchor" aria-label="anchor" href="#oecd-data"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>Public spending on education: <a href="https://data.oecd.org/eduresource/public-spending-on-education.htm" class="uri">https://data.oecd.org/eduresource/public-spending-on-education.htm</a>
</li>
<li>Private spending on education: <a href="https://data.oecd.org/eduresource/private-spending-on-education.htm" class="uri">https://data.oecd.org/eduresource/private-spending-on-education.htm</a>
</li>
</ul>
</div>
<div id="wir-data" class="section level3" number="15.3.4">
<h3>
<span class="header-section-number">15.3.4</span> WIR Data<a class="anchor" aria-label="anchor" href="#wir-data"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>Executive Summary: <a href="https://wir2022.wid.world/executive-summary/" class="uri">https://wir2022.wid.world/executive-summary/</a>
</li>
</ul>
</div>
<div id="toy-data" class="section level3" number="15.3.5">
<h3>
<span class="header-section-number">15.3.5</span> Toy Data<a class="anchor" aria-label="anchor" href="#toy-data"><i class="fas fa-link"></i></a>
</h3>
<ul>
<li>
<code><a href="https://rdrr.io/r/datasets/mtcars.html">datasets::mtcars</a></code>: Motor Trend Car Road Tests</li>
</ul>
</div>
</div>
<div id="responses-to-questions-3" class="section level2" number="15.4">
<h2>
<span class="header-section-number">15.4</span> Responses to Questions<a class="anchor" aria-label="anchor" href="#responses-to-questions-3"><i class="fas fa-link"></i></a>
</h2>
<div id="q.-how-can-we-include-values-in-the-graphs" class="section level3" number="15.4.1">
<h3>
<span class="header-section-number">15.4.1</span> Q. How can we include values in the graphs<a class="anchor" aria-label="anchor" href="#q.-how-can-we-include-values-in-the-graphs"><i class="fas fa-link"></i></a>
</h3>
<p>A. Use <code><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text()</a></code>. Sometimes <code><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_label()</a></code> works better.</p>
<p>The first example is for <code>geom_column()</code>.</p>
<ul>
<li>
<code>geom_text</code> or <code>geom_label</code>
<ul>
<li>
<code>aes(country, gini, label = gini)</code>: x and y value together with the data you want to include. In this case, I chose the same x and y value as <code>geom_com()</code>, and <code>gini</code> for the value.</li>
<li>
<code>vjust</code>: Change the value to find the best location. You can also use <code>hjust</code>, for the horizontal justification.</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb492"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">country</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">g7</span>, <span class="va">year</span> <span class="op">==</span> <span class="fl">2013</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">country</span>, <span class="va">gini</span>, fill <span class="op">=</span> <span class="va">country</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="va">gini</span><span class="op">)</span>, vjust <span class="op">=</span> <span class="op">-</span><span class="fl">0.1</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>x <span class="op">=</span> <span class="st">""</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="15-a5resp_files/figure-html/unnamed-chunk-14-1.png" width="672"></div>
<p>I do not think the following charts are fancy, but you can apply these techniques when appropriate.</p>
<ul>
<li>Scatter plot, and line plot
<ul>
<li>
<code>aes(label = paste("(",gini,",", round(parl,1),")")</code>: x and y value together with the data you want to include. In this case, I included the <code>gini</code> value and the <code>parl</code> value, surrounded by parentheses. However, the <code>parl</code> value has long decimal places; I used <code>round</code> to cut it shorter to keep only one decimal place.</li>
<li>
<code>vjust = -0.1</code>: Just above the point.</li>
<li>
<code>size = 3</code>: Used a bit smaller font size.</li>
<li>
<code>geom_line(arrow = arrow(length = unit(0.03, "npc"), ends="last", type = "closed"))</code>: Added line segments with arrow heads.</li>
<li>
<code>ylim(5,40), xlim(29,42)</code>: The range of the coordinate plane to include labels.</li>
</ul>
</li>
<li>Compare with <code>geom_label</code>.
<ul>
<li>I also changed the shape of the arrow heads.</li>
</ul>
</li>
</ul>
<div class="sourceCode" id="cb493"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">country</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">g7</span>, <span class="va">year</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2010</span>, <span class="fl">2013</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">gini</span>, <span class="va">parl</span>, color <span class="op">=</span> <span class="va">country</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste</a></span><span class="op">(</span><span class="st">"("</span>,<span class="va">gini</span>,<span class="st">","</span>, <span class="fu"><a href="https://rdrr.io/r/base/Round.html">round</a></span><span class="op">(</span><span class="va">parl</span>,<span class="fl">1</span><span class="op">)</span>,<span class="st">")"</span><span class="op">)</span><span class="op">)</span>, vjust <span class="op">=</span> <span class="op">-</span><span class="fl">0.1</span>, size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span>arrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/arrow.html">arrow</a></span><span class="op">(</span>length <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span><span class="op">(</span><span class="fl">0.03</span>, <span class="st">"npc"</span><span class="op">)</span>, ends<span class="op">=</span><span class="st">"last"</span>, type <span class="op">=</span> <span class="st">"closed"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/lims.html">ylim</a></span><span class="op">(</span><span class="fl">5</span>,<span class="fl">40</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/lims.html">xlim</a></span><span class="op">(</span><span class="fl">29</span>,<span class="fl">42</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="15-a5resp_files/figure-html/unnamed-chunk-15-1.png" width="672"></div>
<div class="sourceCode" id="cb494"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">country</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="va">g7</span>, <span class="va">year</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2010</span>, <span class="fl">2013</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">gini</span>, <span class="va">parl</span>, color <span class="op">=</span> <span class="va">country</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>shape <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html">geom_label</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">gini</span>, <span class="va">parl</span>, label <span class="op">=</span> <span class="va">iso2c</span><span class="op">)</span>, vjust <span class="op">=</span> <span class="op">-</span><span class="fl">0.1</span>, size <span class="op">=</span> <span class="fl">3</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span><span class="va">gini</span>, <span class="va">parl</span>, color <span class="op">=</span> <span class="va">country</span><span class="op">)</span>, arrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/arrow.html">arrow</a></span><span class="op">(</span>length <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/unit.html">unit</a></span><span class="op">(</span><span class="fl">0.03</span>, <span class="st">"npc"</span><span class="op">)</span>, ends<span class="op">=</span><span class="st">"last"</span>, type <span class="op">=</span> <span class="st">"open"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="15-a5resp_files/figure-html/unnamed-chunk-16-1.png" width="672"></div>
<p>See Responses to Assignment Four, See 4.4.</p>
<p><a href="https://icu-hsuzuki.github.io/da4r2022_note/a4_resp.nb.html" class="uri">https://icu-hsuzuki.github.io/da4r2022_note/a4_resp.nb.html</a></p>
<p>See also:</p>
<p><a href="https://ds-sl.github.io/data-analysis/wir2022.nb.html" class="uri">https://ds-sl.github.io/data-analysis/wir2022.nb.html</a></p>
<p>Explanation of F1.</p>
</div>
</div>
<div id="my-comments-after-review" class="section level2" number="15.5">
<h2>
<span class="header-section-number">15.5</span> My Comments after Review<a class="anchor" aria-label="anchor" href="#my-comments-after-review"><i class="fas fa-link"></i></a>
</h2>
<div id="na-values" class="section level3" number="15.5.1">
<h3>
<span class="header-section-number">15.5.1</span> NA values<a class="anchor" aria-label="anchor" href="#na-values"><i class="fas fa-link"></i></a>
</h3>
<p>It is challenging to handle NA values properly. Let me introduce basics. In the following we use two data sets. One is <code>df1</code> used above, containing the indicator related the women’s sheet in parliament and the GINI index, and the following data on the forest area.</p>
<div class="sourceCode" id="cb495"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">wdi_cache</span><span class="op">$</span><span class="va">series</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">indicator</span> <span class="op">==</span> <span class="st">"AG.LND.FRST.K2"</span><span class="op">)</span></span>
<span><span class="co">#&gt;        indicator                 name</span></span>
<span><span class="co">#&gt; 1 AG.LND.FRST.K2 Forest area (sq. km)</span></span>
<span><span class="co">#&gt;                                                                                                                                                                                                                                                                            description</span></span>
<span><span class="co">#&gt; 1 Forest area is land under natural or planted stands of trees of at least 5 meters in situ, whether productive or not, and excludes tree stands in agricultural production systems (for example, in fruit plantations and agroforestry systems) and trees in urban parks and gardens.</span></span>
<span><span class="co">#&gt;                 sourceDatabase</span></span>
<span><span class="co">#&gt; 1 World Development Indicators</span></span>
<span><span class="co">#&gt;                                                  sourceOrganization</span></span>
<span><span class="co">#&gt; 1 Food and Agriculture Organization, electronic files and web site.</span></span></code></pre></div>
<div class="sourceCode" id="cb496"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://vincentarelbundock.github.io/WDI/reference/WDI.html">WDI</a></span><span class="op">(</span>country <span class="op">=</span> <span class="st">"all"</span>, indicator <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>area <span class="op">=</span> <span class="st">"AG.LND.FRST.K2"</span><span class="op">)</span>, extra <span class="op">=</span> <span class="cn">TRUE</span>, cache <span class="op">=</span> <span class="va">wdi_cache</span><span class="op">)</span> </span>
<span><span class="va">df2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt;        country iso2c iso3c year    area status lastupdated</span></span>
<span><span class="co">#&gt; 1  Afghanistan    AF   AFG 2021      NA         2022-12-22</span></span>
<span><span class="co">#&gt; 2  Afghanistan    AF   AFG 2020 12084.4         2022-12-22</span></span>
<span><span class="co">#&gt; 3  Afghanistan    AF   AFG 2019 12084.4         2022-12-22</span></span>
<span><span class="co">#&gt; 4  Afghanistan    AF   AFG 2018 12084.4         2022-12-22</span></span>
<span><span class="co">#&gt; 5  Afghanistan    AF   AFG 2017 12084.4         2022-12-22</span></span>
<span><span class="co">#&gt; 6  Afghanistan    AF   AFG 2016 12084.4         2022-12-22</span></span>
<span><span class="co">#&gt; 7  Afghanistan    AF   AFG 2015 12084.4         2022-12-22</span></span>
<span><span class="co">#&gt; 8  Afghanistan    AF   AFG 2014 12084.4         2022-12-22</span></span>
<span><span class="co">#&gt; 9  Afghanistan    AF   AFG 2013 12084.4         2022-12-22</span></span>
<span><span class="co">#&gt; 10 Afghanistan    AF   AFG 2012 12084.4         2022-12-22</span></span>
<span><span class="co">#&gt;        region capital longitude latitude     income lending</span></span>
<span><span class="co">#&gt; 1  South Asia   Kabul   69.1761  34.5228 Low income     IDA</span></span>
<span><span class="co">#&gt; 2  South Asia   Kabul   69.1761  34.5228 Low income     IDA</span></span>
<span><span class="co">#&gt; 3  South Asia   Kabul   69.1761  34.5228 Low income     IDA</span></span>
<span><span class="co">#&gt; 4  South Asia   Kabul   69.1761  34.5228 Low income     IDA</span></span>
<span><span class="co">#&gt; 5  South Asia   Kabul   69.1761  34.5228 Low income     IDA</span></span>
<span><span class="co">#&gt; 6  South Asia   Kabul   69.1761  34.5228 Low income     IDA</span></span>
<span><span class="co">#&gt; 7  South Asia   Kabul   69.1761  34.5228 Low income     IDA</span></span>
<span><span class="co">#&gt; 8  South Asia   Kabul   69.1761  34.5228 Low income     IDA</span></span>
<span><span class="co">#&gt; 9  South Asia   Kabul   69.1761  34.5228 Low income     IDA</span></span>
<span><span class="co">#&gt; 10 South Asia   Kabul   69.1761  34.5228 Low income     IDA</span></span></code></pre></div>
<ol style="list-style-type: decimal">
<li>Get rid of all NA values. nrow(data) gives the number of rows, the length of data.</li>
</ol>
<div class="sourceCode" id="cb497"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df1_wona</span> <span class="op">&lt;-</span> <span class="va">df1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df1_wona</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 114</span></span></code></pre></div>
<div class="sourceCode" id="cb498"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df2_wona</span> <span class="op">&lt;-</span> <span class="va">df2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df2_wona</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 7723</span></span></code></pre></div>
<ol start="2" style="list-style-type: decimal">
<li>Drop data only a specified indicator.</li>
</ol>
<div class="sourceCode" id="cb499"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df1_wona_parl</span> <span class="op">&lt;-</span> <span class="va">df1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">parl</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df1_wona_parl</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 173</span></span></code></pre></div>
<div class="sourceCode" id="cb500"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df1_wona_gini</span> <span class="op">&lt;-</span> <span class="va">df1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">gini</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df1_wona_gini</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 155</span></span></code></pre></div>
<div class="sourceCode" id="cb501"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df1_wona_parl_gini</span> <span class="op">&lt;-</span> <span class="va">df1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">parl</span>, <span class="va">gini</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df1_wona_parl_gini</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 114</span></span></code></pre></div>
<div class="sourceCode" id="cb502"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df2_wona_area</span> <span class="op">&lt;-</span> <span class="va">df2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">area</span><span class="op">)</span>; <span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">df2_wona_area</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 7909</span></span></code></pre></div>
<p>Can you see why the number above is larger than the row number of <code>df2_wona</code>? Since there are many column imported using <code>extra=TRUE</code>, there may be NA values in the othre columns.</p>
<p>So, generally speaking, it is better to drop NA only for the indicators.</p>
<ol start="3" style="list-style-type: decimal">
<li>Selecting year or other conditions with many data.</li>
</ol>
<p>I chose the year 2013 and 2010, because those are the only years we had data for all G7 countries with two indicator values, i.e., <code>parl</code> and <code>gini</code>.</p>
<div class="sourceCode" id="cb503"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">parl</span>, <span class="va">gini</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html">summarize</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">n</span><span class="op">)</span>, <span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html">desc</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/top_n.html">top_n</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; Selecting by n</span></span>
<span><span class="co">#&gt; # A tibble: 2 × 2</span></span>
<span><span class="co">#&gt;    year     n</span></span>
<span><span class="co">#&gt;   &lt;int&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1  2013     7</span></span>
<span><span class="co">#&gt; 2  2010     7</span></span></code></pre></div>
<ol start="4" style="list-style-type: decimal">
<li>Compare the following charts. In the second chart, we can get rid of the warnings. You can simply remove the warning by adding a chunk optiion <code>warning=FALSE</code> by {r warning=FALSE} or choosing an option using the gear mark.</li>
</ol>
<div class="sourceCode" id="cb504"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">gini</span>, col <span class="op">=</span> <span class="va">country</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: Removed 184 rows containing missing values</span></span>
<span><span class="co">#&gt; (`geom_line()`).</span></span></code></pre></div>
<div class="inline-figure"><img src="15-a5resp_files/figure-html/unnamed-chunk-26-1.png" width="672"></div>
<div class="sourceCode" id="cb505"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df1</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">gini</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">year</span>, y <span class="op">=</span> <span class="va">gini</span>, col <span class="op">=</span> <span class="va">country</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="15-a5resp_files/figure-html/unnamed-chunk-27-1.png" width="672"></div>
<div id="reference-1" class="section level4" number="15.5.1.1">
<h4>
<span class="header-section-number">15.5.1.1</span> Reference<a class="anchor" aria-label="anchor" href="#reference-1"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>Posit Primers: <a href="https://posit.cloud/learn/primers/4">Tidy Your Data</a>
</li>
</ul>
</div>
</div>
<div id="comparing-two" class="section level3" number="15.5.2">
<h3>
<span class="header-section-number">15.5.2</span> Comparing Two<a class="anchor" aria-label="anchor" href="#comparing-two"><i class="fas fa-link"></i></a>
</h3>
<p>There are several ways if you want to compare two charts. You can incllude them in one chart, as I gave examples above using <code>geom_line</code> with arrows.</p>
<p>We want to combine the following charts into one. A few comments on the charts.</p>
<ul>
<li>Since <code>year</code> is fixed, we set <code>x = ""</code> in <code>labs</code> and add a title specifying the year.</li>
<li>
<code>scale_x_discrete(labels = function(x) stringr::str_wrap(x, width = 7))</code>: Since the labels of the x-axis are long, we used a unique technique to wrap the tags to fit into a fixed length.</li>
<li>
<code>theme(legend. position = "none")</code>: Since the legend is the same as the labels, we removed it.</li>
</ul>
<div class="sourceCode" id="cb506"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df2_wona_area</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">region</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"East Asia &amp; Pacific"</span>, <span class="st">"Europe &amp; Central Asia"</span>, <span class="st">"Latin America &amp; Caribbean"</span>, <span class="st">"Middle East &amp; North Africa"</span>, <span class="st">"North America"</span>, <span class="st">"South Asia"</span>, <span class="st">"Sub-Saharan Africa"</span><span class="op">)</span>, <span class="va">year</span> <span class="op">==</span> <span class="fl">1990</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">region</span>, y <span class="op">=</span> <span class="va">area</span>, fill <span class="op">=</span> <span class="va">region</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Graph 1. Forest areas in 1990"</span>, x <span class="op">=</span> <span class="st">""</span>, y <span class="op">=</span> <span class="st">"Forest area (sq. km)"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html">scale_x_discrete</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html">str_wrap</a></span><span class="op">(</span><span class="va">x</span>, width <span class="op">=</span> <span class="fl">7</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="15-a5resp_files/figure-html/unnamed-chunk-28-1.png" width="672"></div>
<div class="sourceCode" id="cb507"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df2_wona_area</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">region</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"East Asia &amp; Pacific"</span>, <span class="st">"Europe &amp; Central Asia"</span>, <span class="st">"Latin America &amp; Caribbean"</span>, <span class="st">"Middle East &amp; North Africa"</span>, <span class="st">"North America"</span>, <span class="st">"South Asia"</span>, <span class="st">"Sub-Saharan Africa"</span><span class="op">)</span>, <span class="va">year</span> <span class="op">==</span> <span class="fl">2020</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">region</span>, y <span class="op">=</span> <span class="va">area</span>, fill <span class="op">=</span> <span class="va">region</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Graph 2. Forest areas in 2020"</span>, subtitle <span class="op">=</span> <span class="st">"Regions of the world"</span>, x <span class="op">=</span> <span class="st">""</span>, y <span class="op">=</span> <span class="st">"Forest area (sq. km)"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html">scale_x_discrete</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html">str_wrap</a></span><span class="op">(</span><span class="va">x</span>, width <span class="op">=</span> <span class="fl">7</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="15-a5resp_files/figure-html/unnamed-chunk-29-1.png" width="672"></div>
<ol style="list-style-type: decimal">
<li>position(“dodge”)</li>
</ol>
<div class="sourceCode" id="cb508"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df2_wona_area</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">region</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"East Asia &amp; Pacific"</span>, <span class="st">"Europe &amp; Central Asia"</span>, <span class="st">"Latin America &amp; Caribbean"</span>, <span class="st">"Middle East &amp; North Africa"</span>, <span class="st">"North America"</span>, <span class="st">"South Asia"</span>, <span class="st">"Sub-Saharan Africa"</span><span class="op">)</span>, <span class="va">year</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1990</span>,<span class="fl">2020</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">region</span>, y <span class="op">=</span> <span class="va">area</span>, fill <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">year</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span>position<span class="op">=</span><span class="st">"dodge"</span>, width <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Forest areas"</span>, x <span class="op">=</span> <span class="st">""</span>, y <span class="op">=</span> <span class="st">"Forest area (sq. km)"</span>, fill <span class="op">=</span> <span class="st">"year: "</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html">scale_x_discrete</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html">str_wrap</a></span><span class="op">(</span><span class="va">x</span>, width <span class="op">=</span> <span class="fl">12</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"top"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="15-a5resp_files/figure-html/unnamed-chunk-30-1.png" width="672"></div>
<ol start="2" style="list-style-type: decimal">
<li><code>facet_wrap</code></li>
</ol>
<div class="sourceCode" id="cb509"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df2_wona_area</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">region</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"East Asia &amp; Pacific"</span>, <span class="st">"Europe &amp; Central Asia"</span>, <span class="st">"Latin America &amp; Caribbean"</span>, <span class="st">"Middle East &amp; North Africa"</span>, <span class="st">"North America"</span>, <span class="st">"South Asia"</span>, <span class="st">"Sub-Saharan Africa"</span><span class="op">)</span>, <span class="va">year</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1990</span>,<span class="fl">2020</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">region</span>, y <span class="op">=</span> <span class="va">area</span>, fill <span class="op">=</span> <span class="va">region</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span>position<span class="op">=</span><span class="st">"dodge"</span>, width <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Forest areas"</span>, x <span class="op">=</span> <span class="st">""</span>, y <span class="op">=</span> <span class="st">"Forest area (sq. km)"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html">scale_x_discrete</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html">str_wrap</a></span><span class="op">(</span><span class="va">x</span>, width <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="va">.</span><span class="op">~</span><span class="va">year</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="15-a5resp_files/figure-html/unnamed-chunk-31-1.png" width="672"></div>
<div class="sourceCode" id="cb510"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df2_wona_area</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">region</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"East Asia &amp; Pacific"</span>, <span class="st">"Europe &amp; Central Asia"</span>, <span class="st">"Latin America &amp; Caribbean"</span>, <span class="st">"Middle East &amp; North Africa"</span>, <span class="st">"North America"</span>, <span class="st">"South Asia"</span>, <span class="st">"Sub-Saharan Africa"</span><span class="op">)</span>, <span class="va">year</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1990</span>,<span class="fl">2020</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">region</span>, y <span class="op">=</span> <span class="va">area</span>, fill <span class="op">=</span> <span class="va">region</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_col</a></span><span class="op">(</span>position<span class="op">=</span><span class="st">"dodge"</span>, width <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Forest areas"</span>, x <span class="op">=</span> <span class="st">""</span>, y <span class="op">=</span> <span class="st">"Forest area (sq. km)"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_discrete.html">scale_x_discrete</a></span><span class="op">(</span>labels <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_wrap.html">str_wrap</a></span><span class="op">(</span><span class="va">x</span>, width <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html">theme</a></span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span><span class="op">(</span><span class="va">.</span><span class="op">~</span><span class="va">year</span>, nrow <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="15-a5resp_files/figure-html/unnamed-chunk-32-1.png" width="672"></div>
<p>See Posit Primers: <a href="https://posit.cloud/learn/primers/3">Visualize Data</a></p>
</div>
<div id="the-package-broom-for-models" class="section level3" number="15.5.3">
<h3>
<span class="header-section-number">15.5.3</span> The package <code>broom</code> for models<a class="anchor" aria-label="anchor" href="#the-package-broom-for-models"><i class="fas fa-link"></i></a>
</h3>
<p>There is another package for models in <code>tidyverse</code>, i.e., <code>modelr</code>. Some of the functions of <code>modelr</code> can be useful, but it is mainly for sampling and machine learning. So we explain the package <code>broom</code> only.</p>
<p>Although, <code>broom</code> is installed when you install <code>tidyverse</code>, it is not loaded. So you need to add <code><a href="https://broom.tidymodels.org/">library(broom)</a></code>.</p>
<div class="sourceCode" id="cb511"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://broom.tidymodels.org/">broom</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb512"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df3</span> <span class="op">&lt;-</span> <span class="fu">datasets</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/r/datasets/iris.html">iris</a></span></span></code></pre></div>
<p>There are two ways to set a model.</p>
<ul>
<li>
<code>lm(y~x, data)</code> and <code>data %&gt;% lm(y~x, .)</code>.</li>
</ul>
<p>You can see model summary by the following.</p>
<ul>
<li>
<code>summary(lm(y~x, data))</code> and <code>data %&gt;% lm(y~x, .) %&gt;% summary()</code>.</li>
</ul>
<div class="sourceCode" id="cb513"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod</span> <span class="op">&lt;-</span> <span class="va">df3</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">Sepal.Length</span> <span class="op">~</span> <span class="va">Sepal.Width</span>, <span class="va">.</span><span class="op">)</span></span>
<span><span class="va">mod</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = Sepal.Length ~ Sepal.Width, data = .)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt; (Intercept)  Sepal.Width  </span></span>
<span><span class="co">#&gt;      6.5262      -0.2234</span></span></code></pre></div>
<div class="sourceCode" id="cb514"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df3</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/stats/lm.html">lm</a></span><span class="op">(</span><span class="va">Sepal.Length</span> <span class="op">~</span> <span class="va">Sepal.Width</span>, <span class="va">.</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Call:</span></span>
<span><span class="co">#&gt; lm(formula = Sepal.Length ~ Sepal.Width, data = .)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residuals:</span></span>
<span><span class="co">#&gt;     Min      1Q  Median      3Q     Max </span></span>
<span><span class="co">#&gt; -1.5561 -0.6333 -0.1120  0.5579  2.2226 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Coefficients:</span></span>
<span><span class="co">#&gt;             Estimate Std. Error t value Pr(&gt;|t|)    </span></span>
<span><span class="co">#&gt; (Intercept)   6.5262     0.4789   13.63   &lt;2e-16 ***</span></span>
<span><span class="co">#&gt; Sepal.Width  -0.2234     0.1551   -1.44    0.152    </span></span>
<span><span class="co">#&gt; ---</span></span>
<span><span class="co">#&gt; Signif. codes:  </span></span>
<span><span class="co">#&gt; 0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Residual standard error: 0.8251 on 148 degrees of freedom</span></span>
<span><span class="co">#&gt; Multiple R-squared:  0.01382,    Adjusted R-squared:  0.007159 </span></span>
<span><span class="co">#&gt; F-statistic: 2.074 on 1 and 148 DF,  p-value: 0.1519</span></span></code></pre></div>
<p>Since the coefficients are under Estimate of the summary, you think you do not need <code>mod = lm(y~x, data)</code>. But it is not the case.</p>
<p><code>mod &lt;- lm(y~x, data)</code> defines a model.</p>
<p>We intoroduce only <code><a href="https://generics.r-lib.org/reference/tidy.html">tidy()</a></code>, <code><a href="https://generics.r-lib.org/reference/glance.html">glance()</a></code> and <code><a href="https://generics.r-lib.org/reference/augment.html">augment()</a></code></p>
</div>
<div id="tidy-1" class="section level3" number="15.5.4">
<h3>
<span class="header-section-number">15.5.4</span> <code>tidy</code><a class="anchor" aria-label="anchor" href="#tidy-1"><i class="fas fa-link"></i></a>
</h3>
<p>It produces the coefficients part of the model summary. So, the two values under estimate is the y-intercept and the slope.</p>
<div class="sourceCode" id="cb515"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://generics.r-lib.org/reference/tidy.html">tidy</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 2 × 5</span></span>
<span><span class="co">#&gt;   term        estimate std.error statistic  p.value</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1 (Intercept)    6.53      0.479     13.6  6.47e-28</span></span>
<span><span class="co">#&gt; 2 Sepal.Width   -0.223     0.155     -1.44 1.52e- 1</span></span></code></pre></div>
<div id="glance" class="section level4" number="15.5.4.1">
<h4>
<span class="header-section-number">15.5.4.1</span> <code>glance</code><a class="anchor" aria-label="anchor" href="#glance"><i class="fas fa-link"></i></a>
</h4>
<p>It produces the latter half of the model summary. The fist is the R squared followed by adjusted R squared, and other values.</p>
<div class="sourceCode" id="cb516"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://generics.r-lib.org/reference/glance.html">glance</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 12</span></span>
<span><span class="co">#&gt;   r.squared adj.r…¹ sigma stati…² p.value    df logLik   AIC</span></span>
<span><span class="co">#&gt;       &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span><span class="co">#&gt; 1    0.0138 0.00716 0.825    2.07   0.152     1  -183.  372.</span></span>
<span><span class="co">#&gt; # … with 4 more variables: BIC &lt;dbl&gt;, deviance &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   df.residual &lt;int&gt;, nobs &lt;int&gt;, and abbreviated variable</span></span>
<span><span class="co">#&gt; #   names ¹​adj.r.squared, ²​statistic</span></span></code></pre></div>
</div>
<div id="augment" class="section level4" number="15.5.4.2">
<h4>
<span class="header-section-number">15.5.4.2</span> <code>augment</code><a class="anchor" aria-label="anchor" href="#augment"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>The first column is the vector corresponding to y.</li>
<li>The second column is the vector corresponding to x.</li>
<li>
<code>.fitted</code> is the y value of the fitted line. So
<span class="math display">\[.fitted = y-intercept + slope \cdot x.\]</span>
</li>
<li>
<code>.resid</code> is the residue, i.e., y-value minus .fitted (or predicted) value.</li>
</ul>
<div class="sourceCode" id="cb517"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://generics.r-lib.org/reference/augment.html">augment</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">Sepal.Width</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 150 × 8</span></span>
<span><span class="co">#&gt;    Sepal.Len…¹ Sepal…² .fitted  .resid   .hat .sigma .cooksd</span></span>
<span><span class="co">#&gt;          &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1         5       2      6.08 -1.08   0.0462  0.823 4.34e-2</span></span>
<span><span class="co">#&gt;  2         6       2.2    6.03 -0.0348 0.0326  0.828 3.11e-5</span></span>
<span><span class="co">#&gt;  3         6.2     2.2    6.03  0.165  0.0326  0.828 6.99e-4</span></span>
<span><span class="co">#&gt;  4         6       2.2    6.03 -0.0348 0.0326  0.828 3.11e-5</span></span>
<span><span class="co">#&gt;  5         4.5     2.3    6.01 -1.51   0.0269  0.818 4.78e-2</span></span>
<span><span class="co">#&gt;  6         5.5     2.3    6.01 -0.512  0.0269  0.827 5.49e-3</span></span>
<span><span class="co">#&gt;  7         6.3     2.3    6.01  0.288  0.0269  0.828 1.73e-3</span></span>
<span><span class="co">#&gt;  8         5       2.3    6.01 -1.01   0.0269  0.824 2.14e-2</span></span>
<span><span class="co">#&gt;  9         4.9     2.4    5.99 -1.09   0.0219  0.823 2.00e-2</span></span>
<span><span class="co">#&gt; 10         5.5     2.4    5.99 -0.490  0.0219  0.827 4.05e-3</span></span>
<span><span class="co">#&gt; # … with 140 more rows, 1 more variable: .std.resid &lt;dbl&gt;,</span></span>
<span><span class="co">#&gt; #   and abbreviated variable names ¹​Sepal.Length,</span></span>
<span><span class="co">#&gt; #   ²​Sepal.Width</span></span></code></pre></div>
<p>Hence, the following two charts are the same.</p>
<div class="sourceCode" id="cb518"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mod</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://generics.r-lib.org/reference/augment.html">augment</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Sepal.Width</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">.fitted</span><span class="op">)</span>, col <span class="op">=</span> <span class="st">"blue"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="15-a5resp_files/figure-html/unnamed-chunk-40-1.png" width="672"></div>
<div class="sourceCode" id="cb519"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df3</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Sepal.Width</span>, y <span class="op">=</span> <span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">y</span><span class="op">~</span><span class="va">x</span>, method <span class="op">=</span> <span class="st">"lm"</span>, se <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="15-a5resp_files/figure-html/unnamed-chunk-41-1.png" width="672"></div>
<div class="sourceCode" id="cb520"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df3</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">Sepal.Width</span>, y <span class="op">=</span> <span class="va">Sepal.Length</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_point.html">geom_point</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html">geom_smooth</a></span><span class="op">(</span>formula <span class="op">=</span> <span class="va">y</span><span class="op">~</span><span class="va">x</span>, method <span class="op">=</span> <span class="st">"lm"</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="15-a5resp_files/figure-html/unnamed-chunk-42-1.png" width="672"></div>
<p>The shaded band is supposed to tell you the range of the prediction line should be under some assumption. I did not explain it because you need to be careful when interpreting its meaning.</p>
</div>
<div id="references-of-broom" class="section level4" number="15.5.4.3">
<h4>
<span class="header-section-number">15.5.4.3</span> References of <code>broom</code><a class="anchor" aria-label="anchor" href="#references-of-broom"><i class="fas fa-link"></i></a>
</h4>
<ul>
<li>Official site of R project: <a href="https://CRAN.R-project.org/package=broom" class="uri">https://CRAN.R-project.org/package=broom</a>
</li>
<li>Manual: <a href="https://cran.r-project.org/web/packages/broom/broom.pdf" class="uri">https://cran.r-project.org/web/packages/broom/broom.pdf</a>
</li>
<li>vignette: <a href="https://cran.r-project.org/web/packages/broom/vignettes/broom.html">Introduction to broom</a>
</li>
<li>vignette: <a href="https://cran.r-project.org/web/packages/broom/vignettes/broom_and_dplyr.html">broom and dplyr</a>
</li>
<li><a href="https://broom.tidymodels.org/reference/augment.lm.html">Augment data with information from a(n) lm object</a></li>
</ul>
</div>
</div>
</div>
</div>



  <div class="chapter-nav">
<div class="prev"><a href="roundups.html"><span class="header-section-number">14</span> Roudups</a></div>
<div class="next"><a href="eda.html"><span class="header-section-number">16</span> Exploratory Data analysis</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#a5resp"><span class="header-section-number">15</span> Assignment Five</a></li>
<li><a class="nav-link" href="#assignment-five-the-week-six-assignment">Assignment Five: The Week Six Assignment</a></li>
<li>
<a class="nav-link" href="#set-up-5"><span class="header-section-number">15.1</span> Set up</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#world-development-indicator---wdi-1"><span class="header-section-number">15.1.1</span> World Development Indicator - WDI</a></li>
<li><a class="nav-link" href="#world-inequility-report---wir2022-1"><span class="header-section-number">15.1.2</span> World Inequility Report - WIR2022</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#general-comments-3"><span class="header-section-number">15.2</span> General Comments</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#create-a-pdf-or-word-file."><span class="header-section-number">15.2.1</span> Create a PDF or Word file.</a></li></ul>
</li>
<li>
<a class="nav-link" href="#your-work-1"><span class="header-section-number">15.3</span> Your Work</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#world-development-indicators---wdi-1"><span class="header-section-number">15.3.1</span> World Development Indicators - WDI</a></li>
<li><a class="nav-link" href="#worldbank-data"><span class="header-section-number">15.3.2</span> Worldbank Data</a></li>
<li><a class="nav-link" href="#oecd-data"><span class="header-section-number">15.3.3</span> OECD Data</a></li>
<li><a class="nav-link" href="#wir-data"><span class="header-section-number">15.3.4</span> WIR Data</a></li>
<li><a class="nav-link" href="#toy-data"><span class="header-section-number">15.3.5</span> Toy Data</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#responses-to-questions-3"><span class="header-section-number">15.4</span> Responses to Questions</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#q.-how-can-we-include-values-in-the-graphs"><span class="header-section-number">15.4.1</span> Q. How can we include values in the graphs</a></li></ul>
</li>
<li>
<a class="nav-link" href="#my-comments-after-review"><span class="header-section-number">15.5</span> My Comments after Review</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#na-values"><span class="header-section-number">15.5.1</span> NA values</a></li>
<li><a class="nav-link" href="#comparing-two"><span class="header-section-number">15.5.2</span> Comparing Two</a></li>
<li><a class="nav-link" href="#the-package-broom-for-models"><span class="header-section-number">15.5.3</span> The package broom for models</a></li>
<li><a class="nav-link" href="#tidy-1"><span class="header-section-number">15.5.4</span> tidy</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://icu-hsuzuki.github.io/da4r2022//blob/master/15-a5resp.Rmd">View source <i class="fab fa-gitlab"></i></a></li>
          <li><a id="book-edit" href="https://icu-hsuzuki.github.io/da4r2022//edit/master/15-a5resp.Rmd">Edit this page <i class="fab fa-gitlab"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Data Analysis for Researchers AY2022</strong>" was written by Hiroshi Suzuki. It was last built on 2023-02-11.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
